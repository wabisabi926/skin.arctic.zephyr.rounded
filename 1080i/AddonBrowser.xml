<?xml version="1.0" encoding="UTF-8"?>
<window id="20">
    <defaultcontrol always="true">50</defaultcontrol>
    <views>50</views>
    <menucontrol>9000</menucontrol>
    <onload>SetFocus(6000,0,absolute)</onload>

    <onload condition="String.IsEqual(Container.FolderPath,addons://recently_updated/)">SetFocus(6000,1,absolute)</onload>
    <onload condition="String.IsEqual(Container.FolderPath,addons://dependencies/) + Integer.IsEqual(Container(6301).NumItems,0)">SetFocus(6000,2,absolute)</onload>
    <onload condition="String.IsEqual(Container.FolderPath,addons://dependencies/) + !Integer.IsEqual(Container(6301).NumItems,0)">SetFocus(6000,3,absolute)</onload>
    <onload condition="String.IsEqual(Container.FolderPath,addons://running/) + Integer.IsEqual(Container(6301).NumItems,0)">SetFocus(6000,3,absolute)</onload>
    <onload condition="String.IsEqual(Container.FolderPath,addons://running/) + !Integer.IsEqual(Container(6301).NumItems,0)">SetFocus(6000,4,absolute)</onload>

    <include condition="Skin.HasSetting(enabled.tmdb.helper.blur)">Action_Blur_Onload</include>
    <onload>SetProperty(TMDbHelper.ContextMenu,True)</onload>

    <allowoverlay>no</allowoverlay>

    <controls>
        <include condition="!Skin.HasSetting(show.global.visualisation.background.video)">Hidden_Video_Window</include>
        <include>Background_Global</include>

        <include>Furniture_Header</include>
        <include>Furniture_Header_NowPlaying</include>
        <include condition="Skin.HasSetting(show.furniture.footer)">Furniture_Footer</include>
        <include condition="!Skin.HasSetting(show.clock.date.weather.home.only)">Furniture_Footer_Clock_Right</include>

        <!-- <include condtion="!String.IsEqual(Container.FolderPath,addons://)">Furniture_Jumpbar_Horizontal</include> -->

        <control type="group">
            <include>Animation_Common</include>
            <include>Def_Dialog_Settings</include>

            <!-- LEFT - HEADER  -->

            <control type="label">
                <top>18</top>
                <left>30</left>
                <width>390</width>
                <font>MediumBold</font>
                <label>5</label>
                <textcolor>PanelWhite100</textcolor>
            </control>
            <control type="label">
                <top>77</top>
                <left>30</left>
                <right>30</right>
                <height>30</height>
                <font>Tiny</font>
                <textcolor>PanelWhite70</textcolor>
                <label>$INFO[System.ProfileName]</label>
                <align>left</align>
                <scroll>true</scroll>
                <textoffsetx>0</textoffsetx>
            </control>

            <!-- LEFT - GROUP -->

            <control type="list" id="6000">
                <include>Animation_Scrolltime_Views_List</include>

                <top>140</top>
                <left>16</left>
                <width>418</width>
                <height>490</height>

                <onup>6000</onup>
                <ondown>6000</ondown>

                <onback>Action(PreviousMenu)</onback>
                <onleft>menu</onleft>

                <onright condition="String.IsEmpty(Container(6000).ListItem.Property(folderpath))">Container.Update($INFO[Container(6000).ListItem.FolderPath],replace)</onright>
                <onright condition="!String.IsEmpty(Container(6000).ListItem.Property(folderpath))">Container.Update($INFO[Container(6000).ListItem.Property(folderpath)],replace)</onright>

                <onright>50</onright>

                <itemgap>0</itemgap>
                <pagecontrol>61</pagecontrol>
                <orientation>vertical</orientation>

                <itemlayout width="418" height="70">
                    <control type="label">
                        <left>30</left>
                        <right>25</right>
                        <height>70</height>
                        <aligny>center</aligny>
                        <align>left</align>
                        <font>Small</font>
                        <textcolor>PanelWhite100</textcolor>
                        <label>$INFO[ListItem.Label]</label>
                    </control>
                </itemlayout>
                <focusedlayout width="418" height="70">
                    <control type="image">
                        <width>100%</width>
                        <height>100%</height>
                        <texture border="12">special://profile/addon_data/script.texturemaker/ArcticZephirRounded/box_h.png</texture>
                    </control>
                    <control type="label">
                        <left>30</left>
                        <height>70</height>
                        <aligny>center</aligny>
                        <align>left</align>
                        <font>Small</font>
                        <textcolor>Selected</textcolor>
                        <label>$INFO[ListItem.Label]</label>
                    </control>
                    <control type="button">
                        <include>Def_Hidden_ListControl</include>
                        <onfocus condition="String.IsEmpty(Container(6000).ListItem.Property(folderpath))">Container.Update($INFO[Container(6000).ListItem.FolderPath],replace)</onfocus>
                        <onfocus condition="!String.IsEmpty(Container(6000).ListItem.Property(folderpath))">Container.Update($INFO[Container(6000).ListItem.Property(folderpath)],replace)</onfocus>
                    </control>
                </focusedlayout>
                <content>
                    <item>
                        <label>$LOCALIZE[24998]</label>
                        <property name="folderpath">addons://user/</property>
                        <icon>DefaultAddonsInstalled.png</icon>
                    </item>
                    <item>
                        <label>$LOCALIZE[24004]</label>
                        <property name="folderpath">addons://recently_updated/</property>
                        <icon>DefaultAddonsRecentlyUpdated.png</icon>
                    </item>
                    <item>
                        <label>$LOCALIZE[24043]$INFO[System.AddonUpdateCount, (,)]</label>
                        <property name="folderpath">addons://outdated/</property>
                        <icon>DefaultAddonsUpdates.png</icon>
                        <visible>!Integer.IsEqual(Container(6301).NumItems,0)</visible>
                    </item>
                    <item>
                        <label>$LOCALIZE[24033]</label>
                        <property name="folderpath">addons://repos/</property>
                        <icon>DefaultAddonsRepo.png</icon>
                    </item>
                    <item>
                        <label>$LOCALIZE[24041]</label>
                        <property name="folderpath">addons://install/</property>
                        <icon>DefaultAddonsZip.png</icon>
                        <onclick>SetFocus(50)</onclick>
                        <onclick>Container.Update(addons://install/,replace)</onclick>
                        <onclick>Action(Select)</onclick>
                    </item>
                    <item>
                        <label>$LOCALIZE[137]</label>
                        <property name="folderpath">addons://user/</property>
                        <icon>DefaultAddonsSearch.png</icon>
                        <onclick>SetFocus(50)</onclick>
                        <onclick>Container.Update(addons://search/,replace)</onclick>
                    </item>
                    <item>
                        <label>$LOCALIZE[24994]</label>
                        <property name="folderpath">addons://running/</property>
                        <icon>DefaultScript.png</icon>
                    </item>
                    <item>
                        <label>$LOCALIZE[24996]</label>
                        <property name="folderpath">addons://dependencies/</property>
                        <icon>DefaultAddonService.png</icon>
                    </item>
                </content>
            </control>

            <!-- LINES - VERTICAL -->

            <include content="Def_Dialog_Line_Vertical"><param name="top" value="17" /><param name="right" value="1310" /></include>

            <!-- SCROLLBAR -->

            <control type="scrollbar" id="61">
                <top>140</top>
                <right>0</right>
                <height>490</height>
                <width>10</width>
                <onleft>6000</onleft>
                <showonepage>false</showonepage>
                <animation effect="fade" condition="!Control.HasFocus(61)" start="100" end="0" time="200">Conditional</animation>
            </control>

            <!-- RIGHT - HEADER -->

            <control type="group">
                <visible>!Container(3000).HasFocus(1)</visible>
                <control type="label">
                    <left>480</left>
                    <width>390</width>
                    <top>18</top>
                    <font>MediumBold</font>
                    <label>$VAR[Label_Header_Settings]</label>
                    <textcolor>PanelWhite100</textcolor>
                </control>
                <control type="label">
                    <left>480</left>
                    <right>30</right>
                    <top>77</top>
                    <height>30</height>
                    <font>Tiny</font>
                    <textcolor>PanelWhite70</textcolor>
                    <scroll>true</scroll>
                    <label>10012</label>
                </control>
            </control>

            <!-- RIGHT - LINE -->

            <include content="Def_Dialog_Header_Line">
                <param name="top" value="123" />
                <param name="left" value="480" />
            </include>

            <!-- RIGHT - GROUP -->

            <control type="group">
                <control type="panel" id="50">
                    <include>Animation_Scrolltime_Views_List</include>

                    <top>140</top>
                    <left>466</left>
                    <right>16</right>
                    <height>490</height>

                    <onback condition="String.IsEqual(Container.FolderPath,Container(6000).ListItem.FolderPath) | String.IsEqual(Container.FolderPath,addons://user/) | String.IsEqual(Container.FolderPath,addons://)">6000</onback>
                    <onleft>6000</onleft>

                    <onright>1679</onright>

                    <onup>50</onup>
                    <ondown>50</ondown>

                    <pagecontrol>1679</pagecontrol>

                    <viewtype label="535">list</viewtype>

                    <itemlayout height="98">
                        <include content="layout_list_item_addons_info" >
                            <param name="textcolor_line_1" value="PanelWhite100" />
                            <param name="textcolor_line_2" value="Dark2" />
                            <param name="colordiffuse_icon_black" value="PanelWhite100" />
                        </include>
                    </itemlayout>
                    <focusedlayout height="98">
                        <include>layout_list_focus_addons_info</include>
                    </focusedlayout>
                </control>
            </control>

            <!-- SCROLLBAR -->

            <include content="Object_Scrollbar_Dialog_Vertical">
                <param name="scrollid" value="1679" />
                <param name="top" value="140" />
                <param name="onleft" value="50" />
                <param name="onright" value="50" />
                <param name="height" value="490" />
                <param name="centerright" value="4" />
            </include>
        </control>

        <!-- OVERLAY -->

        <control type="group">
            <include>Animation_Fade_In</include>
            <include>Animation_Fade_Out</include>
            <visible>$EXP[View_Context_Menu_Visible]</visible>
            <include>Background_Overlay</include>
        </control>

        <!-- CONTEXT MENU -->

        <control type="group">
            <visible allowhiddenfocus="true">$EXP[View_Context_Menu_Visible]</visible>
            <include>Animation_LeftSide</include>

            <top>184</top>
            <centerleft>50%</centerleft>
            <height>689</height>
            <width>470</width>

            <!-- CONTEXT BACKGROUND -->

            <include content="Def_Dialog_Background_PowerMenu">
                <param name="height">339</param>
                <param name="visible">!Player.HasMedia</param>
            </include>

            <include content="Def_Dialog_Background_PowerMenu">
                <param name="height">549</param>
                <param name="visible">Player.HasMedia</param>
            </include>

            <!-- ARROWS -->

            <control type="group">
                <visible>Integer.IsGreater(Container(9000).NumItems,0)</visible>
                <control type="image">
                    <centerleft>50%</centerleft>
                    <top>-24</top>
                    <include>Def_Arrow_Size</include>
                    <texture colordiffuse="White100" flipy="true">common/arrow-small.png</texture>
                </control>
                <control type="image">
                    <centerleft>50%</centerleft>
                    <top>559</top>
                    <include>Def_Arrow_Size</include>
                    <texture colordiffuse="White100" flipy="false">common/arrow-small.png</texture>
                    <animation effect="slide" end="0,-210" time="0" condition="!Player.HasMedia">Conditional</animation>
                </control>
            </control>

            <control type="label">
                <include>Def_Dialog_Header_Title</include>
                <label>14018</label>
            </control>
            <include>Def_Dialog_Header_Logo</include>
            <include>Def_Dialog_Header_Line</include>

            <control type="grouplist" id="9000">
                <top>112</top>

                <pagecontrol>9070</pagecontrol>
                <usecontrolcoords>true</usecontrolcoords>

                <include content="Def_View_ContextMenu_GroupList"><param name="height" value="420" /><param name="idlayout" value="6000" /></include>

                <include>Animation_Scrolltime_Views_List</include>

                <!-- NOW PLAYING -->

                <control type="button" id="55555">
                    <include>Def_Context_Menu_Label</include>
                    <label>31448</label>
                    <visible>$EXP[Display_Views_Menu_Mini_Player]</visible>
                </control>

                <include>Def_View_ContextMenu_Button_Playlist</include>

                <!-- MINI PLAYER -->

                <include>Def_View_ContextMenu_Player</include>

                <!-- MISC ACTION -->

                <control type="button" id="55552">
                    <include>Def_Context_Menu_Label</include>
                    <label>16106</label>
                </control>

                <!-- update -->
                <control type="button" id="9">
                    <description>Check for updates</description>
                    <label>24034</label>
                    <include>Def_Button_Gradient_Context</include>
                    <onclick>Close</onclick>
                </control>
                <control type="button" id="5">
                    <description>Update settings</description>
                    <label>5</label>
                    <include>Def_Button_Gradient_Context</include>
                </control>
            </control>
        </control>
    </controls>
</window>

<?xml version="1.0" encoding="UTF-8"?>
<window type="window" id="1100">
    <defaultcontrol always="true">3615</defaultcontrol>
    <animation effect="fade" start="100" end="0" time="500">WindowClose</animation>

    <!-- START TMDBH SERVICE -->

    <onload condition="String.IsEmpty(Window.Property(ReloadDone)) + Skin.HasSetting(enabled.tmdb.helper.service)">Skin.SetBool(TMDbHelper.Service)</onload>

    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.SetBool(tmdbhelper.directcallauto)</onload>
    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.Reset(TMDbHelper.MonitorContainer)</onload>
    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.Reset(TMDbHelper.UseLocalWidgetContainer)</onload>
    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.Reset(TMDbHelper.ForceWidgetContainer)</onload>

    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.Reset(TMDbHelper.DisableDefaultCacheOnly)</onload>
    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.Reset(TMDbHelper.DisableArtwork)</onload>
    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.Reset(tmdbhelper.disablepvr)</onload>
    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.Reset(TMDbHelper.disablepersonstats)</onload>
    <onload condition="String.IsEmpty(Window.Property(ReloadDone))">Skin.Reset(TMDbHelper.DisableExtendedProperties)</onload>

    <!-- BUILD INCLUDES FOR TEXTURES / VIEWS / MENUS -->

    <include condition="String.IsEmpty(Window.Property(ReloadDone))">Action_BuildTextures_Onload</include>

    <!-- RELOAD -->

    <onload>SetProperty(ReloadDone,1)</onload>
    <onunload>CancelAlarm(GoHome,true)</onunload>

    <controls>
        <control type="button" id="3615">
            <visible allowhiddenfocus="true">false</visible>
            <onfocus condition="String.IsEmpty(Skin.String(StartupPlaylist))">AlarmClock(GoHome,ReplaceWindow($INFO[System.StartupWindow]),00:08,silent)</onfocus>
            <onfocus condition="String.IsEmpty(Skin.String(StartupPlaylist))">AlarmClock(FocusButton,SetFocus(3616),00:01,silent)</onfocus>
            <onfocus condition="!String.IsEmpty(Skin.String(StartupPlaylist))">AlarmClock(GoToCheck,SetFocus(9000),00:00,silent)</onfocus>
        </control>

        <!-- IF PLAYLIST START -->

        <control type="button" id="9000">
            <include>Def_Hidden_Button</include>
            <onfocus>AlarmClock(Check1,SetFocus(9002),00:01,silent)</onfocus>
            <onfocus condition="!String.IsEmpty(Skin.String(StartupPlaylist)) + !Player.HasMedia">AlarmClock(PlayStartupVideo,PlayMedia($ESCINFO[Skin.String(StartupPlaylist)],1),00:00,silent,false)</onfocus>
            <onback>ReplaceWindow($INFO[System.StartupWindow])</onback>
            <onback>Stop</onback>
        </control>

        <control type="button" id="9001">
            <include>Def_Hidden_Button</include>
            <onfocus condition="!Player.HasMedia">ReplaceWindow($INFO[System.StartupWindow])</onfocus>
            <onfocus condition="Player.HasMedia">AlarmClock(Check3,SetFocus(9002),00:01,silent)</onfocus>
            <onback>ReplaceWindow($INFO[System.StartupWindow])</onback>
            <onback>Stop</onback>
        </control>
        <control type="button" id="9002">
            <include>Def_Hidden_Button</include>
            <onfocus>AlarmClock(Check2,SetFocus(9001),00:01,silent)</onfocus>
            <onback>ReplaceWindow($INFO[System.StartupWindow])</onback>
            <onback>Stop</onback>
        </control>

        <control type="button" id="3616">
            <include>Def_Hidden_Button</include>
        </control>

        <control type="group">

            <!-- BACKGROUND -->

            <control type="image" description="Background">
                <include>Def_Dimensions_Fullscreen</include>
                <texture colordiffuse="$VAR[StartupDiffuse]">$VAR[Startup_Fanart]</texture>
                <animation effect="fade" start="100" end="0" time="500" tween="quadratic">WindowClose</animation>
            </control>
            <control type="label">
                <description>Loading</description>
                <width>100%</width>
                <height>100%</height>
                <align>center</align>
                <aligny>center</aligny>
                <label>Arctic [COLOR=$VAR[Color_Label_AZR]]Zephyr[/COLOR]</label>
                <font>EpisodeNumber</font>
                <textcolor>FFC5C5C5</textcolor>
                <animation effect="fade" start="100" end="0" time="500">WindowClose</animation>
                <visible>String.IsEmpty(Skin.String(StartupPlaylist))</visible>
            </control>
            <control type="image">
                <left>1020</left>
                <top>605</top>
                <width>331</width>
                <height>60</height>
                <centertop>50%</centertop>
                <texture>logo/logo_rounded.png</texture>
                <animation effect="fade" start="0" end="100" time="500">Visible</animation>
                <animation effect="fade" start="100" end="0" time="500">WindowClose</animation>
                <visible>String.IsEmpty(Skin.String(StartupPlaylist)) + Control.HasFocus(3616)</visible>
            </control>

            <!-- <control type="videowindow"> -->
                <!-- <visible>Player.HasVideo + !String.IsEmpty(Skin.String(StartupPlaylist))</visible> -->
                <!-- <include>Def_Dimensions_Fullscreen</include> -->
            <!-- </control> -->

            <!-- HOUR / DATE -->

            <control type="group">
                <bottom>80</bottom>
                <height>140</height>
                <centerleft>50%</centerleft>
                <width>600</width>
                <visible>!Weather.IsFetched + Control.HasFocus(3616)</visible>
                <animation effect="fade" reversible="false" start="0" end="100" time="500" delay="600">Visible</animation>
                <animation effect="fade" reversible="false" start="100" end="0" time="300" delay="200">Hidden</animation>
                <control type="label">
                    <label>$INFO[System.Time(hh:mm), [B],[/B]]</label>
                    <width>auto</width>
                    <height>90</height>
                    <align>center</align>
                    <aligny>center</aligny>
                    <font>EpisodeNumberNew</font>
                    <textcolor>FFC5C5C5</textcolor>
                </control>
                <control type="label">
                    <label>$INFO[System.Date]</label>
                    <height>20</height>
                    <centerbottom>20</centerbottom>
                    <align>center</align>
                    <aligny>center</aligny>
                    <font>MediumBold3</font>
                    <textcolor>FFC5C5C5</textcolor>
                </control>
            </control>

            <!-- WEATHER -->

            <control type="group">
                <bottom>80</bottom>
                <height>140</height>
                <centerleft>50%</centerleft>
                <width>600</width>
                <visible>Weather.IsFetched</visible>
                <animation effect="fade" reversible="false" start="0" end="100" time="300" delay="200">Visible</animation>
                <control type="grouplist">
                    <orientation>horizontal</orientation>
                    <align>center</align>
                    <height>100</height>
                    <top>0</top>
                    <control type="image">
                        <centertop>50%</centertop>
                        <width>90</width>
                        <height>90</height>
                        <aspectratio>keep</aspectratio>
                        <texture colordiffuse="FFC5C5C5">$INFO[Skin.String(weather.icons.path)]$INFO[Window(weather).Property(Current.FanartCode),,.png]</texture>
                        <visible>!String.IsEmpty(Window(Weather).Property(Current.FanartCode))</visible>
                        <visible>!String.IsEmpty(Skin.String(weather.icons.path)) + !String.Contains(Skin.String(weather.icons.path)),animated + String.IsEqual(Skin.String(weather.icons.name),Weather Icons - White)</visible>
                    </control>
                    <control type="image">
                        <centertop>50%</centertop>
                        <width>90</width>
                        <height>90</height>
                        <aspectratio>keep</aspectratio>
                        <texture>$INFO[Skin.String(weather.icons.path)]$INFO[Window(weather).Property(Current.FanartCode),,.png]</texture>
                        <visible>!String.IsEmpty(Window(Weather).Property(Current.FanartCode))</visible>
                        <visible>!String.IsEmpty(Skin.String(weather.icons.path)) + !String.Contains(Skin.String(weather.icons.path)),animated + !String.IsEqual(Skin.String(weather.icons.name),Weather Icons - White)</visible>
                    </control>
                    <control type="label">
                        <left>-10</left>
                        <label>$INFO[Window(Weather).Property(Current.Temperature), [B],[/B]Â°]</label>
                        <width>auto</width>
                        <height>90</height>
                        <align>center</align>
                        <aligny>center</aligny>
                        <font>EpisodeNumberNew</font>
                        <textcolor>FFC5C5C5</textcolor>
                        <visible>!String.IsEmpty(Window(Weather).Property(Current.Temperature))</visible>
                    </control>
                </control>
                <control type="label">
                    <label>$INFO[Window(Weather).Property(Current.Condition)]</label>
                    <height>20</height>
                    <centerbottom>20</centerbottom>
                    <align>center</align>
                    <aligny>center</aligny>
                    <font>MediumBold3</font>
                    <textcolor>FFC5C5C5</textcolor>
                    <visible>!String.IsEmpty(Window(Weather).Property(Current.Condition))</visible>
                </control>
            </control>

            <!-- SPINNER -->

            <control type="group">
                <centertop>700</centertop>
                <height>80</height>
                <include content="Object_Spinner_Busy">
                    <param name="show_label_spinner" value="false" />
                    <param name="centerleft" value="50%" />
                    <param name="centertop" value="50%" />
                    <param name="colordiffuse_icon" value="B3dddddd" />
                    <param name="colordiffuse_circle" value="FFdddddd" />
                </include>
            </control>
        </control>
    </controls>
</window>

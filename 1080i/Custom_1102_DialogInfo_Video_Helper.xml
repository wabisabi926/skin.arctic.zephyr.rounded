<?xml version="1.0" encoding="UTF-8"?>
<window id="1102" type="dialog">
    <visible>[!Skin.HasSetting(filter.video.only.local) + System.IdleTime(5) + Window.IsVisible(DialogVideoInfo.xml) + String.IsEmpty(Window(Home).Property(Set_Movie_TvShow_TMDb_id)) + String.IsEmpty(Window(Home).Property(Init_Value_TMDb)) + !Window.IsVisible(DialogSelect.xml)] |
    [Skin.HasSetting(filter.video.only.local) + !$EXP[DialogInfoSingleValue] + Skin.HasSetting(enabled.tmdb.helper.service) + System.IdleTime(3) + Window.IsVisible(DialogVideoInfo.xml) + String.IsEmpty(Window(Home).Property(Set_Movie_TvShow_TMDb_id)) + String.IsEmpty(Window(Home).Property(Init_Value_TMDb)) + !Window.IsVisible(DialogSelect.xml)] |
    [Skin.HasSetting(filter.video.only.local) + [$EXP[DialogInfoSingleValue] | !Skin.HasSetting(enabled.tmdb.helper.service)] + System.IdleTime(1) + Window.IsVisible(DialogVideoInfo.xml) + String.IsEmpty(Window(Home).Property(Set_Movie_TvShow_TMDb_id)) + String.IsEmpty(Window(Home).Property(Init_Value_TMDb)) + !Window.IsVisible(DialogSelect.xml)]</visible>


    <!-- ============ -->
    <!-- TMDB ON LINE -->
    <!-- ============ -->

    <!-- Seasons / Info / Recommended / Similar / Crew -->
    <onload condition="String.IsEmpty(Window(Home).Property(Set_Movie_TvShow_TMDb_id))">SetProperty(Set_Movie_TvShow_TMDb_id,$VAR[Def_TMDb_ID],Home)</onload>

    <!-- ============ -->
    <!--  LOCAL ONLY  -->
    <!-- ============ -->

    <!-- Director -->
    <onload condition="!String.IsEmpty(ListItem.Director) + String.Contains(ListItem.Director, / ) + String.IsEmpty(Window(Home).Property(SetDirectorSelected))">SetProperty(SetDirectorSelected,$VAR[Path_Director_Name],Home)</onload>
    <onload condition="!String.IsEmpty(ListItem.Director) + !String.Contains(ListItem.Director, / ) + String.IsEmpty(Window(Home).Property(SetDirectorSelected))">SetProperty(SetDirectorSelected,$INFO[ListItem.Director],Home)</onload>

    <!-- Writer -->
    <onload condition="!String.IsEmpty(ListItem.Writer) + String.Contains(ListItem.Writer, / ) + String.IsEmpty(Window(Home).Property(SetWriterSelected))">SetProperty(SetWriterSelected,$VAR[Path_Writer_Name],Home)</onload>
    <onload condition="!String.IsEmpty(ListItem.Writer) + !String.Contains(ListItem.Writer, / ) + String.IsEmpty(Window(Home).Property(SetWriterSelected))">SetProperty(SetWriterSelected,$INFO[ListItem.Writer],Home)</onload>

    <!-- Studio -->
    <onload condition="!String.IsEmpty(ListItem.Studio) + String.Contains(ListItem.Studio, / ) + String.IsEmpty(Window(Home).Property(SetStudioSelected))">SetProperty(SetStudioSelected,$VAR[Path_Studio_Name],Home)</onload>
    <onload condition="!String.IsEmpty(ListItem.Studio) + !String.Contains(ListItem.Studio, / ) + String.IsEmpty(Window(Home).Property(SetStudioSelected))">SetProperty(SetStudioSelected,$INFO[ListItem.Studio],Home)</onload>

    <!-- Encode label studio -->
    <onload condition="Skin.HasSetting(filter.video.only.local)">RunPlugin("plugin://script.skinvariables/?info=get_encoded_string&amp;unencoded_paths=true&amp;window_id=Home&amp;window_prop=Encoded.ListItem.Studio&amp;&amp;$INFO[Window(Home).Property(SetStudioSelected)]")</onload>

    <!-- Encode label set -->
    <onload condition="Skin.HasSetting(filter.video.only.local) + String.IsEqual(ListItem.DBType,movie)">RunPlugin("plugin://script.skinvariables/?info=get_encoded_string&amp;unencoded_paths=true&amp;window_id=Home&amp;window_prop=Encoded.ListItem.Set&amp;&amp;$INFO[ListItem.Set]")</onload>

    <!-- ============ -->
    <!-- TMDB ON LINE -->
    <!-- ============ -->

    <!-- Director -->
    <onload condition="!Skin.HasSetting(filter.video.only.local) + String.IsEmpty(Window(Home).Property(Director_Query))">SetProperty(Director_Query,$VAR[Path_Director_TMDb_ID],Home)</onload>

    <!-- Writer -->
    <onload condition="!Skin.HasSetting(filter.video.only.local) + String.IsEmpty(Window(Home).Property(Writer_Query))">SetProperty(Writer_Query,$VAR[Path_Writer_TMDb_ID],Home)</onload>

    <!-- Creator -->
    <onload condition="!Skin.HasSetting(filter.video.only.local) + [String.IsEqual(ListItem.DBType,tvshow) | String.IsEqual(ListItem.DBType,season) | String.IsEqual(ListItem.DBType,episode)] + String.IsEmpty(Window(Home).Property(SetCreatorSelected))">SetProperty(SetCreatorSelected,$VAR[Path_Creator_Name],Home)</onload>
    <onload condition="!Skin.HasSetting(filter.video.only.local) + [String.IsEqual(ListItem.DBType,tvshow) | String.IsEqual(ListItem.DBType,season) | String.IsEqual(ListItem.DBType,episode)] + String.IsEmpty(Window(Home).Property(Creator_Query))">SetProperty(Creator_Query,$VAR[Path_Creator_TMDb_ID],Home)</onload>

    <!-- Studio -->
    <onload condition="!Skin.HasSetting(filter.video.only.local) + String.IsEqual(ListItem.DBType,movie) + String.IsEmpty(Window(Home).Property(Studio_Query))">SetProperty(Studio_Query,$VAR[Path_Studio_TMDb_ID],Home)</onload>
    <onload condition="!Skin.HasSetting(filter.video.only.local) + [String.IsEqual(ListItem.DBType,tvshow) | String.IsEqual(ListItem.DBType,season) | String.IsEqual(ListItem.DBType,episode)] + String.IsEmpty(Window(Home).Property(Network_Query))">SetProperty(Network_Query,$VAR[Path_Network_TMDb_ID],Home)</onload>

    <onload>AlarmClock(Dialog_Info_Init_Value_TMDb,SetProperty(Init_Value_TMDb,1,Home),00:00,silent)</onload>
    <onunload>SetProperty(Init_Value_TMDb,1,Home)</onunload>
</window>

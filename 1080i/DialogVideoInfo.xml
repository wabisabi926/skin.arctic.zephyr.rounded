<?xml version="1.0" encoding="UTF-8"?>
<window id="2003">
    <defaultcontrol always="false">9000</defaultcontrol>
    <zorder>0</zorder>

    <onload>Skin.Reset(TMDbHelper.ForceWidgetContainer)</onload>

    <onload>ClearProperty(TMDbHelper.HideView,Home)</onload>

    <onload>ClearProperty(Set_Movie_TvShow_TMDb_id,Home)</onload>
    <onload>ClearProperty(Init_Value_TMDb,Home)</onload>

    <onload>ClearProperty(videoyoutube)</onload>
    <onload>ClearProperty(ShowDisc)</onload>
    <onload>ClearProperty(content)</onload>
    <onload>ClearProperty(down)</onload>

    <onload>RunPlugin("plugin://script.skinvariables/?info=get_encoded_string&amp;window_id=Home&amp;window_prop=Encoded.ListItem.Set&amp;&amp;$INFO[ListItem.Set]")</onload>
    <onload>RunPlugin("plugin://script.skinvariables/?info=get_encoded_string&amp;window_id=Home&amp;window_prop=Encoded.ListItem.Title&amp;&amp;$INFO[ListItem.Title]")</onload>
    <onload>RunPlugin("plugin://script.skinvariables/?info=get_encoded_string&amp;window_id=Home&amp;window_prop=Encoded.ListItem.Label&amp;&amp;$INFO[ListItem.Label]")</onload>

    <onload>SetFocus(50,0,absolute)</onload>
    <onload>SetFocus(9502,0,absolute)</onload>
    <onload>SetFocus(9503,0,absolute)</onload>
    <onload>SetFocus(9504,3,absolute)</onload>
    <onload>SetFocus(9505,0,absolute)</onload>
    <onload>SetFocus(9506,0,absolute)</onload>
    <onload>SetFocus(9514,0,absolute)</onload>
    <onload>SetFocus(9515,0,absolute)</onload>
    <onload>SetFocus(9517,0,absolute)</onload>
    <onload>SetFocus(9520,0,absolute)</onload>
    <onload>SetFocus(9550,0,absolute)</onload>
    <onload>SetFocus(9552,0,absolute)</onload>
    <onload>SetFocus(9553,0,absolute)</onload>
    <onload>SetFocus(9554,0,absolute)</onload>
    <onload>SetFocus(9556,0,absolute)</onload>
    <onload>SetFocus(9557,0,absolute)</onload>
    <onload>SetFocus(9558,0,absolute)</onload>
    <onload>SetFocus(9559,0,absolute)</onload>
    <onload>SetFocus(9579,0,absolute)</onload>

    <!-- Info -->
    <!-- <onload condition="!Control.IsVisible(8) + !Control.IsVisible(9201) + Control.IsVisible(9001)">SetFocus(9001)</onload> -->

    <!-- button local / on line -->
    <!-- <onload condition="!Control.IsVisible(8) + !Control.IsVisible(9078) + !Control.IsVisible(9201) + Control.IsVisible(9012)">SetFocus(9012)</onload> -->

    <!-- Person -->
    <onload condition="!Control.IsVisible(8) + Control.IsVisible(9054)">SetFocus(9054)</onload>

    <!-- movie - Back full screen if player has video -->
    <onload condition="!Control.IsVisible(8) + Control.IsVisible(9201)">SetFocus(9201)</onload>

    <!-- TvShow - button parcourir -->
    <onload condition="!Control.IsVisible(8) + !Control.IsVisible(9201) + Control.IsVisible(9078)">SetFocus(9078)</onload>

    <!-- movie - play -->
    <onload condition="Control.IsVisible(8)">SetFocus(8)</onload>

    <menucontrol>9000</menucontrol>

    <onload condition="Skin.HasSetting(osd.open.auto.pause) + Player.HasMedia + Player.HasVideo + !Player.Paused + !String.IsEmpty(VideoPlayer.DBID)">PlayerControl(Play)</onload>
    <onload condition="Skin.HasSetting(osd.open.auto.pause) + Player.HasMedia + Player.HasVideo + String.IsEmpty(Window(Home).Property(dialogvideoinfo))">SetProperty(dialogvideoinfo,1,Home)</onload>
    <onload condition="Skin.HasSetting(home.netflix.autoplay.trailer) + Skin.HasSetting(trailer.stop.on.dialogvideoinfo) + $EXP[TrailerIsPlaying] + Player.Playing">Stop</onload>
    <onload condition="Skin.HasSetting(home.netflix.autoplay.trailer) + Skin.HasSetting(trailer.pause.on.dialogvideoinfo) + $EXP[TrailerIsPlaying] + Player.Playing">Pause</onload>

    <onunload>ClearProperty(Init_Value_TMDb,Home)</onunload>
    <onunload>ClearProperty(Set_Movie_TvShow_TMDb_id,Home)</onunload>

    <onunload>ClearProperty(SetYoutubeSearch)</onunload>

    <onunload>ClearProperty(SetDirectorSelected,Home)</onunload>
    <onunload>ClearProperty(SetWriterSelected,Home)</onunload>
    <onunload>ClearProperty(SetCreatorSelected,Home)</onunload>
    <onunload>ClearProperty(SetStudioSelected,Home)</onunload>

    <onunload>ClearProperty(Director_Query,Home)</onunload>
    <onunload>ClearProperty(Writer_Query,Home)</onunload>
    <onunload>ClearProperty(Creator_Query,Home)</onunload>
    <onunload>ClearProperty(Studio_Query,Home)</onunload>
    <onunload>ClearProperty(Network_Query,Home)</onunload>

    <onunload>ClearProperty(ListVideoForCast,Home)</onunload>
    <onunload>ClearProperty(ListVideoForCastIcon,Home)</onunload>
    <onunload>ClearProperty(SetUserRating,Home)</onunload>
    <onunload>ClearProperty(ShowDisc)</onunload>
    <onunload>ClearProperty(dontslide,Home)</onunload>
    <onunload>ClearProperty(isoninfo,Home)</onunload>

    <onunload>ClearProperty(TrailerWindowedIsPlaying,Home)</onunload>
    <onunload>ClearProperty(VideoYoutubeIsPlaying,Home)</onunload>

    <onunload condition="Skin.HasSetting(osd.open.auto.pause) + Integer.IsEqual(Window(Home).Property(dialogvideoinfo),1)">SetProperty(dialogvideoinfo,2,Home)</onunload>
    <onunload condition="Skin.HasSetting(home.netflix.autoplay.trailer) + Skin.HasSetting(trailer.pause.on.dialogvideoinfo) + $EXP[TrailerIsPlaying] + Player.Paused">Pause</onunload>

    <onunload condition="!String.IsEmpty(Window(Home).Property(shownowplayinginfo))">SetFocus(4000)</onunload>
    <onunload condition="!String.IsEmpty(Window(Home).Property(shownowplayinginfo))">ClearProperty(shownowplayinginfo,Home)</onunload>

    <controls>
        <include>Defs_TMDbHelper_Loader</include>
        <include condition="!Skin.HasSetting(global.showvideo)">Hidden_Video_Window</include>
        <include>Background_Global</include>
        <include>Dialog_Video_Info</include>
        <include>Furniture_Header_NowPlaying</include>
        <include>Hidden_Set_Count</include>
        <include content="Def_Dialog_Info_Overlay">
            <param name="headerinfo" value="$INFO[ListItem.Title]" />
            <param name="plotinfo" value="$INFO[ListItem.Tagline,[B],[/B][CR][CR]]$INFO[ListItem.Plot]" />
        </include>
        <include condition="Skin.HasSetting(DebugShow.path)">Furniture_Debug_Path</include>
        <include condition="Skin.HasSetting(DebugInfo.widget)">Furniture_DebugInfo_Item</include>

    </controls>
</window>

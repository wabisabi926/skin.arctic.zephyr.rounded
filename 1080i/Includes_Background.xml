<?xml version="1.0" encoding="UTF-8"?>
<includes>
    <include name="Def_Dimensions_Fullscreen">
        <left>0</left>
        <top>0</top>
        <width>1920</width>
        <height>1080</height>
    </include>

    <include name="Background_Overlay">
        <param name="colordiffuse" value="$PARAM[colordiffuse]" default="BackgroundOverlay"/>
        <param name="fade_condition" value="$PARAM[fade_condition]" default="true"/>
        <definition>
            <control type="image">
                <include>Animation_FadeIn</include>
                <include>Animation_FadeOut</include>
                <include>Def_Dimensions_Fullscreen</include>
                <texture border="2" colordiffuse="$PARAM[colordiffuse]">common/white.png</texture>
                <animation effect="fade" start="100" end="90" condition="$PARAM[fade_condition]">Conditional</animation>
            </control>
        </definition>
    </include>

    <include name="Background_Custom">
        <param name="visible" value="$PARAM[visible]" default="true"/>
        <definition>
            <control type="image" description="Background">
                <include>Animation_FadeIn</include>
                <include>Animation_FadeOut</include>
                <include>Def_Dimensions_Fullscreen</include>
                <texture background="true">$PARAM[Fanart_Custom]</texture>
                <visible>$PARAM[visible]</visible>
            </control>
        </definition>
    </include>

    <variable name="StartupFanart">
        <value condition="!String.IsEmpty(Skin.String(startupfanart.fallback))">$INFO[Skin.String(startupfanart.fallback)]</value>
        <value>background/bg_startup.jpg</value>
    </variable>

    <include name="Hidden_Video_Window">
        <!--HIDDEN VIDEO WINDOW TO PREVENT AUDIO ERRORS-->
        <control type="videowindow">
            <include>Def_Dimensions_Fullscreen</include>
        </control>
    </include>

    <include name="TrailerWindow">
        <control type="videowindow">
            <visible>[$EXP[TrailerWindowIsActive] | $EXP[VideoWindowFlixIsActive]] + !$EXP[Extended_Now_Playing_Is_Visible]</visible>
            <include condition="![$EXP[Home_Is_Horizontal_Clean] + Window.IsVisible(Home)]">Def_Trailer_Video_Window_Small</include>
            <include condition="$EXP[Home_Is_Horizontal_Clean] + Window.IsVisible(Home)">Def_Trailer_Video_Window_Full_Screen</include>
        </control>
        <control type="image" description="Background">
            <animation effect="slide" start="0,0" end="0,-90" time="0" condition="Skin.HasSetting(home.netflix.autoplay.trailer.custom.window.force)">Conditional</animation>
            <animation effect="slide" start="0,0" end="0,-50" time="0" condition="Skin.HasSetting(home.netflix.autoplay.trailer.custom.window) + String.IsEqual(VideoPlayer.VideoAspect,1.85) + !String.IsEmpty(VideoPlayer.VideoAspect)">Conditional</animation>
            <animation effect="slide" start="0,0" end="0,-90" time="0" condition="Skin.HasSetting(home.netflix.autoplay.trailer.custom.window) + !String.IsEqual(VideoPlayer.VideoAspect,1.85) + !String.IsEqual(VideoPlayer.VideoAspect,1.78) + !String.IsEqual(VideoPlayer.VideoAspect,1.66) + !String.IsEqual(VideoPlayer.VideoAspect,1.37) + !String.IsEqual(VideoPlayer.VideoAspect,1.33) + !String.IsEmpty(VideoPlayer.VideoAspect)">Conditional</animation>
            <visible>[$EXP[TrailerWindowIsActive] | $EXP[VideoWindowFlixIsActive]] + !$EXP[Extended_Now_Playing_Is_Visible] + ![$EXP[Home_Is_Horizontal_Clean] + Window.IsVisible(Home)]</visible>
            <top>0</top>
            <include>Def_Dimensions_Fullscreen</include>
            <texture colordiffuse="Background">background/trailerwindow.png</texture>
        </control>

        <include content="Object_Spinner_Pause">
            <param name="centerleft" value="1300" />
            <param name="centertop" value="260" />
            <param name="visible" value="Player.Paused + !Skin.HasSetting(hide.play.pause.info) + $EXP[VideoWindowFlixIsActive]" />
        </include>
    </include>

    <!-- Fade Time -->

    <include name="FadetimeFast">
        <fadetime>400</fadetime>
    </include>

    <include name="FadetimeDefault">
        <fadetime>600</fadetime>
    </include>

    <include name="FadetimeSlow">
        <fadetime>1800</fadetime>
    </include>

    <include name="FadetimeSuperSlow">
        <fadetime>3600</fadetime>
    </include>

    <include name="Global_Video_Window">
        <control type="image" description="Background">
            <include>Def_Dimensions_Fullscreen</include>
            <texture colordiffuse="Background">background/bg.jpg</texture>
        </control>
        <control type="image" description="Background">
            <include>Def_Dimensions_Fullscreen</include>
            <texture colordiffuse="FF000000">common/white.png</texture>
            <visible>Player.HasVideo + Skin.HasSetting(show.global.visualisation.background.video)</visible>
        </control>
        <control type="videowindow">
            <include>Def_Dimensions_Fullscreen</include>
            <visible>Player.HasVideo + Skin.HasSetting(show.global.visualisation.background.video)</visible>
        </control>
    </include>

    <include name="Global_Visualisation">
        <control type="group">
            <visible>Player.HasAudio</visible>
            <control type="visualisation">
                <visible>Skin.HasSetting(disable.artist.slideshow) | !System.AddonIsEnabled(script.artistslideshow) | Skin.HasSetting(OSDVisualisation.ShowFanart)</visible>
                <description>visualisation</description>
                <include>Def_Dimensions_Fullscreen</include>
            </control>
            <control type="image">

                <!-- AS 3 -->
                <aspectratio>scale</aspectratio>
                <include>Def_Dimensions_Fullscreen</include>
                <include>Background_Fanart_Fade_time</include>
                <texture background="true">$INFO[Window(Visualisation).Property(ArtistSlideshow.Image)]</texture>
                <visible>System.AddonIsEnabled(script.artistslideshow) + !Skin.HasSetting(disable.artist.slideshow)</visible>
                <animation effect="fade" start="100" end="65" time="0" condition="Skin.HasSetting(OSDVisualisation.ShowFanart)">Conditional</animation>
                <animation effect="zoom" start="110" end="130" center="auto" time="10000" tween="sine" easing="inout" pulse="true" condition="Skin.HasSetting(enable.artist.slideshow.animate)">Conditional</animation>
                <animation effect="slide" start="-30,-30" end="30,30" time="6000" tween="sine" easing="inout" pulse="true" condition="Skin.HasSetting(enable.artist.slideshow.animate)">Conditional</animation>
            </control>
        </control>
    </include>

    <!-- BRIGHTNESS GLOBAL -->

    <include name="Def_Brightness_Full_Screen">
        <colordiffuse>FanartFade</colordiffuse>
        <animation effect="fade" end="0" start="0" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),0) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="5" start="5" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),5) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="10" start="10" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),10) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="15" start="15" time="0" condition="[String.IsEmpty(Skin.String(Value_Brightness_Full_Screen)) | Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),15)] + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="20" start="20" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),20) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="25" start="25" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),25) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="30" start="30" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),30) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="35" start="35" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),35) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="40" start="40" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),40) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="45" start="45" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),45) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="50" start="50" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),50) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="55" start="55" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),55) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="60" start="60" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),60) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="65" start="65" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),65) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="70" start="70" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),70) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="75" start="75" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),75) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="80" start="80" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),80) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="85" start="85" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),85) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="90" start="90" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),90) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>
        <animation effect="fade" end="95" start="95" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Full_Screen),95) + ![Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)]">Conditional</animation>

        <!-- <animation effect="fade" end="60" start="60" time="0" condition="Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home)">Conditional</animation> -->
    </include>

    <!-- BRIGHTNESS HOME - HORIZONTAL CLEAN -->

    <include name="Def_Brightness_Home_Horizontal_Clean">
        <colordiffuse>FanartFade</colordiffuse>
        <animation effect="fade" end="40" start="40" time="0" condition="true">Conditional</animation>
    </include>

    <include name="Overlay510">
        <colordiffuse>BackgroundNew</colordiffuse>
    </include>

    <include name="Overlay510Blur">
        <colordiffuse>BackgroundNewBlur</colordiffuse>
    </include>

    <include name="IncludeFloorFade">
        <colordiffuse>FloorFade</colordiffuse>
    </include>

    <include name="IncludeFloorFadeBlur">
        <colordiffuse>FloorFadeBlur</colordiffuse>
    </include>

    <variable name="Background_Global_Image">
        <value condition="Skin.HasSetting(enable.blur.effect)">$VAR[Image_Background_Flix_Art]</value>
        <value condition="!Skin.HasSetting(enable.blur.effect)">$VAR[Global_Fanart_Background]</value>
    </variable>

    <!-- IMAGE PATH -->

    <include name="Image_Path_Normal">
        <imagepath background="true">$VAR[Global_Fanart_Background]</imagepath>
    </include>

    <include name="Image_Path_Blur_TMDb">
        <imagepath background="true">$INFO[Container(99950).ListItem.Art(blurimage)]</imagepath>
    </include>

    <!-- BACKGROUND FANART FADE TIME -->

    <include name="Background_Fanart_Fade_time">
        <include condition="Integer.IsEqual(Skin.String(Fadetime),600) | String.IsEmpty(Skin.String(Fadetime))">FadetimeDefault</include>
        <include condition="Integer.IsEqual(Skin.String(Fadetime),1800)">FadetimeSlow</include>
        <include condition="Integer.IsEqual(Skin.String(Fadetime),3600)">FadetimeSuperSlow</include>
        <include condition="Integer.IsEqual(Skin.String(Fadetime),400)">FadetimeFast</include>
    </include>

    <!-- PREVIEW WINDOWS NETFLIX - FULL SCREEN -->

    <include name="Def_Window_Flix">
        <aspectratio scalediffuse="false">scale</aspectratio>
        <width>1280</width>
        <height>720</height>
        <right>0</right>
        <top>0</top>
        <imagepath background="true" diffuse="background/homediffuse510fs.png">$VAR[Global_Fanart_Background]</imagepath>
    </include>

    <!-- ================= -->
    <!-- GLOBAL BACKGROUND -->
    <!-- ================= -->

    <include name="Background_Global">
        <include condition="Skin.HasSetting(enable.blur.effect)">Image_Path_Blur_TMDb</include>
        <include>Global_Video_Window</include>
        <include condition="Skin.HasSetting(show.global.visualisation.music.artist) + !String.IsEmpty(Visualisation.Name)">Global_Visualisation</include>

        <!-- EXTRA FANART -->

        <control type="fadelabel" id="4399">
            <top>-900</top>
            <width>2560</width>
            <height>0</height>
            <scroll>false</scroll>
            <scrollout>false</scrollout>
            <randomize>true</randomize>
            <resetonlabelchange>true</resetonlabelchange>
            <visible>Skin.HasSetting(enable.extra.fanart)</visible>

            <label>$INFO[ListItem.Art(fanart1)]</label>
            <label>$INFO[ListItem.Art(fanart2)]</label>
            <label>$INFO[ListItem.Art(fanart3)]</label>
            <label>$INFO[ListItem.Art(fanart4)]</label>
            <label>$INFO[ListItem.Art(fanart5)]</label>
            <label>$INFO[ListItem.Art(fanart6)]</label>
            <label>$INFO[ListItem.Art(fanart7)]</label>
            <label>$INFO[ListItem.Art(fanart8)]</label>
            <label>$INFO[ListItem.Art(fanart9)]</label>
            <label>$INFO[ListItem.Art(fanart10)]</label>
            <label>$INFO[ListItem.Art(fanart11)]</label>
            <label>$INFO[ListItem.Art(fanart12)]</label>
            <label>$INFO[ListItem.Art(fanart13)]</label>
            <label>$INFO[ListItem.Art(fanart14)]</label>
            <label>$INFO[ListItem.Art(fanart15)]</label>
            <label>$INFO[ListItem.Art(fanart16)]</label>
            <label>$INFO[ListItem.Art(fanart17)]</label>
            <label>$INFO[ListItem.Art(fanart18)]</label>
            <label>$INFO[ListItem.Art(fanart19)]</label>
            <label>$INFO[ListItem.Art(fanart20)]</label>
            <label>$INFO[ListItem.Art(fanart)]</label>

            <label>$INFO[ListItem.Art(artist.fanart1)]</label>
            <label>$INFO[ListItem.Art(artist.fanart2)]</label>
            <label>$INFO[ListItem.Art(artist.fanart3)]</label>
            <label>$INFO[ListItem.Art(artist.fanart4)]</label>
            <label>$INFO[ListItem.Art(artist.fanart5)]</label>
            <label>$INFO[ListItem.Art(artist.fanart6)]</label>
            <label>$INFO[ListItem.Art(artist.fanart7)]</label>
            <label>$INFO[ListItem.Art(artist.fanart8)]</label>
            <label>$INFO[ListItem.Art(artist.fanart9)]</label>
            <label>$INFO[ListItem.Art(artist.fanart10)]</label>
            <label>$INFO[ListItem.Art(artist.fanart11)]</label>
            <label>$INFO[ListItem.Art(artist.fanart12)]</label>
            <label>$INFO[ListItem.Art(artist.fanart13)]</label>
            <label>$INFO[ListItem.Art(artist.fanart14)]</label>
            <label>$INFO[ListItem.Art(artist.fanart15)]</label>
            <label>$INFO[ListItem.Art(artist.fanart16)]</label>
            <label>$INFO[ListItem.Art(artist.fanart17)]</label>
            <label>$INFO[ListItem.Art(artist.fanart18)]</label>
            <label>$INFO[ListItem.Art(artist.fanart19)]</label>
            <label>$INFO[ListItem.Art(artist.fanart20)]</label>
            <label>$INFO[ListItem.Art(artist.fanart)]</label>

            <label>$INFO[ListItem.Art(tvshow.fanart1)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart2)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart3)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart4)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart5)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart6)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart7)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart8)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart9)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart10)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart11)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart12)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart13)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart14)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart15)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart16)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart17)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart18)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart19)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart20)]</label>
            <label>$INFO[ListItem.Art(tvshow.fanart)]</label>

            <pauseatend>Background_Fanart_Time_Before_Next_Image</pauseatend>
        </control>

        <!-- VISUALISATION OVERLAY -->

        <control type="image" description="Background">
            <include>Def_Dimensions_Fullscreen</include>
            <texture colordiffuse="Background">background/bg.jpg</texture>
            <visible>[Player.HasVideo + Skin.HasSetting(show.global.visualisation.background.video)] | [Player.HasAudio + Skin.HasSetting(show.global.visualisation.music.artist) + !String.IsEmpty(Visualisation.Name)]</visible>
            <animation effect="fade" start="100" end="75" time="0" condition="true">Conditional</animation>
        </control>

        <!-- TRAILER WINDOW HOME -->

        <include condition="Skin.HasSetting(home.netflix.autoplay.trailer) | Skin.HasSetting(show.home.nowplaying.video.flix)">TrailerWindow</include>

        <!-- GLOBAL FANART -->

        <control type="multiimage" description="Fanart">
            <visible>$EXP[Show_Video_Background_Not_Enable]</visible>

            <visible>!Skin.HasSetting(hide.global.fanart)</visible>

            <!-- <visible>!Skin.HasSetting(enable.blur.effect) | [Window.IsVisible(Home) + !$EXP[Home_Is_Flix] + !$EXP[View_Info_Dialog] + !Skin.HasSetting(home.style.horizontal.clean)]</visible> -->
            <visible>!Skin.HasSetting(enable.blur.effect) | [Window.IsVisible(Home) + !$EXP[Home_Is_Flix] + !$EXP[View_Info_Dialog]]</visible>

            <include>Animation_Animate_Fanart</include>
            <include>Animation_AutoTrailer_FadeOut_Background</include>
            <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>
            <include>Background_Fanart_Fade_time</include>
            <timeperimage>Background_Fanart_Time_Before_Next_Image</timeperimage>
            <randomize>true</randomize>

            <include>Def_Brightness_Full_Screen</include>
            <include>Def_Dimensions_Fullscreen</include>

            <aspectratio>scale</aspectratio>
            <imagepath background="true">$VAR[Global_Fanart_Background]</imagepath>
        </control>

        <!-- BLUR GLOBAL - FAKE -->

        <!-- Code from https://github.com/jurialmunkey/skin.arctic.fuse -->

        <control type="group">
            <visible>$EXP[Show_Video_Background_Not_Enable]</visible>
            <visible>!Skin.HasSetting(hide.global.fanart)</visible>
            <visible>Skin.HasSetting(enable.blur.effect) + Skin.HasSetting(enable.blur.effect.fake)</visible>

            <visible>[Window.IsVisible(Home) + $EXP[Home_Is_Flix]] | [Window.IsVisible(Home) + $EXP[View_Info_Dialog]] | !Window.IsVisible(Home)</visible>

            <centertop>50%</centertop>
            <height>108000</height>

            <control type="multiimage" description="Fanart">

                <width>192000</width>
                <height>108000</height>
                <centertop>64%</centertop>

                <include>Animation_Animate_Fanart</include>
                <include>Animation_AutoTrailer_FadeOut_Background</include>
                <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>
                <include>Background_Fanart_Fade_time</include>
                <timeperimage>Background_Fanart_Time_Before_Next_Image</timeperimage>
                <randomize>true</randomize>

                <aspectratio>scale</aspectratio>
                <include>Image_Path_Normal</include>
            </control>
        </control>

        <!-- BLUR GLOBAL - TMDB HELPER -->

        <control type="group">
            <visible>!Skin.HasSetting(hide.global.fanart)</visible>
            <visible>$EXP[Show_Video_Background_Not_Enable]</visible>
            <visible>Skin.HasSetting(enable.blur.effect) + !Skin.HasSetting(enable.blur.effect.fake)</visible>

            <visible>[Window.IsVisible(Home) + $EXP[Home_Is_Flix]] |
            [Window.IsVisible(Home) + Skin.HasSetting(home.style.horizontal.clean) + $EXP[View_List_Dialog_Info_Settings]] | !Window.IsVisible(Home)</visible>

            <centertop>50%</centertop>
            <height>108000</height>

            <control type="multiimage" description="Fanart">

                <width>192000</width>
                <height>108000</height>
                <centertop>64%</centertop>

                <include>Animation_Animate_Fanart</include>
                <include>Animation_AutoTrailer_FadeOut_Background</include>
                <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>
                <include>Background_Fanart_Fade_time</include>
                <timeperimage>Background_Fanart_Time_Before_Next_Image</timeperimage>
                <randomize>true</randomize>

                <aspectratio>scale</aspectratio>
                <include>Image_Path_Blur_TMDb</include>
            </control>
        </control>

        <!-- FALLBACK - IF hide.global.fanart ENABLE -->

        <control type="image" description="Fanart Fallback always">
            <visible>$EXP[Show_Video_Background_Not_Enable]</visible>

            <visible>Skin.HasSetting(hide.global.fanart)</visible>

            <!-- <visible>!Skin.HasSetting(enable.blur.effect) | [Window.IsVisible(Home) + !$EXP[Home_Is_Flix] + !$EXP[View_Info_Dialog]]</visible> -->

            <include>Animation_Animate_Fanart</include>
            <include>Animation_AutoTrailer_FadeOut_Background</include>
            <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>
            <include>Background_Fanart_Fade_time</include>

            <randomize>true</randomize>

            <include>Def_Dimensions_Fullscreen</include>
            <include>Def_Brightness_Full_Screen</include>

            <aspectratio>scale</aspectratio>
            <texture background="true">$VAR[Global_Fanart_Background]</texture>
        </control>

        <!-- WINDOW FLIX - VIEW FLIX / HOME -->

        <control type="multiimage" description="Fanart">
            <visible>$EXP[Show_Video_Background_Not_Enable]</visible>
            <visible>Skin.HasSetting(enable.blur.effect)</visible>
            <visible>!Skin.HasSetting(hide.view.flix.preview)</visible>
            <visible>!Skin.HasSetting(hide.global.fanart)</visible>

            <!-- <visible>[Window.IsVisible(Home) + $EXP[Home_Is_Flix] + !$EXP[View_Info_Dialog]] | [!Window.IsVisible(Home) + $EXP[View_Flix]]</visible> -->
            <visible>[Window.IsVisible(Home) + $EXP[Home_Is_Flix]] | [!Window.IsVisible(Home) + $EXP[View_Flix]]</visible>
            <animation effect="fade" end="0" start="70" time="150" condition="$EXP[View_Info_Dialog] + Window.IsVisible(Home)">Conditional</animation>

            <animation effect="fade" start="0" end="70" time="350" tween="sine" easing="in" reversible="false">Visible</animation>
            <animation effect="fade" end="0" start="70" time="150">Hidden</animation>

            <animation effect="fade" end="10" start="10" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),10)">Conditional</animation>
            <animation effect="fade" end="20" start="20" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),20)">Conditional</animation>
            <animation effect="fade" end="30" start="30" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),30)">Conditional</animation>
            <animation effect="fade" end="40" start="40" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),40)">Conditional</animation>
            <animation effect="fade" end="50" start="50" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),50)">Conditional</animation>
            <animation effect="fade" end="60" start="60" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),60) | String.IsEmpty(Skin.String(Value_Brightness_Flix)) | String.IsEqual(Skin.String(Value_Brightness_Flix),default)">Conditional</animation>
            <animation effect="fade" end="70" start="70" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),70)">Conditional</animation>
            <animation effect="fade" end="80" start="80" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),80)">Conditional</animation>
            <animation effect="fade" end="90" start="90" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),90)">Conditional</animation>
            <animation effect="fade" end="100" start="100" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_Flix),100)">Conditional</animation>

            <include>Animation_Animate_Fanart</include>
            <include>Animation_AutoTrailer_FadeOut_Background</include>
            <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>
            <include>Background_Fanart_Fade_time</include>
            <timeperimage>Background_Fanart_Time_Before_Next_Image</timeperimage>
            <randomize>true</randomize>

            <include>Def_Window_Flix</include>
        </control>

        <!-- WINDOW FLIX  - VIEW NO FLIX -->

        <control type="multiimage" description="Fanart">
            <visible>$EXP[Show_Video_Background_Not_Enable]</visible>
            <visible>Skin.HasSetting(enable.blur.effect)</visible>
            <visible>!Skin.HasSetting(hide.view.flix.preview)</visible>
            <visible>!Skin.HasSetting(hide.global.fanart)</visible>

            <visible>[!Window.IsVisible(Home) + !$EXP[View_Flix]] | [Window.IsVisible(Home) + $EXP[View_Info_Dialog]]</visible>

            <animation effect="fade" start="0" end="50" time="350" tween="sine" easing="in" reversible="false">Visible</animation>
            <animation effect="fade" end="0" start="50" time="150">Hidden</animation>

            <animation effect="fade" end="10" start="10" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),10)">Conditional</animation>
            <animation effect="fade" end="20" start="20" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),20)">Conditional</animation>
            <animation effect="fade" end="30" start="30" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),30) | String.IsEmpty(Skin.String(Value_Brightness_NoFlix)) | String.IsEqual(Skin.String(Value_Brightness_NoFlix),default)">Conditional</animation>
            <animation effect="fade" end="40" start="40" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),40)">Conditional</animation>
            <animation effect="fade" end="50" start="50" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),50)">Conditional</animation>
            <animation effect="fade" end="60" start="60" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),60)">Conditional</animation>
            <animation effect="fade" end="70" start="70" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),70)">Conditional</animation>
            <animation effect="fade" end="80" start="80" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),80)">Conditional</animation>
            <animation effect="fade" end="90" start="90" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),90)">Conditional</animation>
            <animation effect="fade" end="100" start="100" time="0" condition="Integer.IsEqual(Skin.String(Value_Brightness_NoFlix),100)">Conditional</animation>

            <include>Animation_Animate_Fanart</include>
            <include>Animation_AutoTrailer_FadeOut_Background</include>
            <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>
            <include>Background_Fanart_Fade_time</include>
            <timeperimage>Background_Fanart_Time_Before_Next_Image</timeperimage>
            <randomize>true</randomize>

            <include>Def_Window_Flix</include>
        </control>

        <!-- FINAL OVERLAYS -->

        <!-- Home (not clean) / View flix -->

        <control type="image" description="FanartOverlay">
            <visible>!Skin.HasSetting(hide.global.fanart)</visible>
            <visible>[!Window.IsVisible(Home) + $EXP[View_Flix]] | [Window.IsVisible(Home) + !$EXP[View_Info_Dialog] + !Skin.HasSetting(home.style.horizontal.clean)]</visible>


            <include>Animation_AutoTrailer_FadeOut_Background</include>
            <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>

            <include>Def_Dimensions_Fullscreen</include>
            <texture colordiffuse="FloorFade">background/combined_flixart.png</texture>
        </control>

        <!-- All View (not flix) - home exclu -->

        <control type="image" description="FanartOverlay">
            <visible>!Skin.HasSetting(hide.global.fanart)</visible>
            <visible>[!Window.IsVisible(Home) + !$EXP[View_Flix]] | [Window.IsVisible(Home) + $EXP[View_Info_Dialog]]</visible>

            <include>Animation_AutoTrailer_FadeOut_Background</include>
            <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>

            <include>Def_Dimensions_Fullscreen</include>
            <texture colordiffuse="FloorFade">background/combined_flixart_dialog.png</texture>
        </control>

        <!-- Home Horizontal Clean only -->

        <control type="image" description="FanartOverlay">
            <visible>!Skin.HasSetting(hide.global.fanart)</visible>
            <visible>Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home) + !$EXP[View_Info_Dialog]</visible>

            <animation type="WindowOpen" reversible="false">
                <effect type="fade" start="66" end="100" time="150"/>
            </animation>
            <animation type="WindowClose" reversible="false">
                <effect type="fade" end="33" start="100" time="300"/>
            </animation>
            <include>Def_Dimensions_Fullscreen</include>
            <texture colordiffuse="FloorFade">background/full_clean2.png</texture>
        </control>

        <!-- Fallback only -->

        <control type="image" description="FanartOverlay">
            <visible>Skin.HasSetting(hide.global.fanart)</visible>
            <!-- <visible>[!Window.IsVisible(Home) + !$EXP[View_Flix]] | [Window.IsVisible(Home) + $EXP[View_Info_Dialog]]</visible> -->

            <include>Animation_AutoTrailer_FadeOut_Background</include>
            <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>

            <include>Def_Dimensions_Fullscreen</include>
            <texture colordiffuse="FloorFade">background/combined_flixart_dialog.png</texture>
        </control>
    </include>

    <!-- ===================== -->
    <!-- BACKGROUND HOME CLEAN -->
    <!-- ===================== -->

    <include name="Background_Home_Clean">
        <control type="group">
            <visible>$EXP[Show_Video_Background_Not_Enable]</visible>
            <visible>!Skin.HasSetting(hide.global.fanart)</visible>
            <visible>Skin.HasSetting(home.style.horizontal.clean) + Window.IsVisible(Home) + !$EXP[View_Info_Dialog]</visible>

            <animation effect="fade" start="0" end="100" time="400" reversible="false">Visible</animation>
            <animation effect="fade" start="100" end="0" time="400" reversible="false">Hidden</animation>

            <control type="group">
                <visible>!$EXP[Home_Menu_Is_Focus]</visible>

                <animation condition="!Container($INFO[Container(300).ListItem.Property(id)]601).OnNext" effect="slide" start="0" end="-1920" delay="0" time="400" tween="quadratic" easing="out" reversible="false">Conditional</animation>
                <animation condition="!Container($INFO[Container(300).ListItem.Property(id)]601).OnPrevious" effect="slide" start="0" end="1920" delay="0" time="400" tween="quadratic" easing="out" reversible="false">Conditional</animation>

                <control type="image">
                    <left>-1920</left>
                    <width>1920</width>
                    <height>1080</height>
                    <texture background="true">$VAR[Image_FullscreenWidget_Artwork-1]</texture>
                    <aspectratio>scale</aspectratio>
                    <visible>Container($INFO[Container(300).ListItem.Property(id)]601).OnNext | Container($INFO[Container(300).ListItem.Property(id)]601).OnPrevious</visible>
                    <animation effect="fade" start="100" end="0" delay="400" time="1" reversible="false">Hidden</animation>
                </control>
                <control type="image">
                    <width>1920</width>
                    <height>1080</height>
                    <texture background="true">$VAR[Image_FullscreenWidget_Artwork]</texture>
                    <aspectratio>scale</aspectratio>
                    <fadetime>400</fadetime>
                </control>
                <control type="image">
                    <left>1920</left>
                    <width>1920</width>
                    <height>1080</height>
                    <texture background="true">$VAR[Image_FullscreenWidget_Artwork+1]</texture>
                    <aspectratio>scale</aspectratio>
                    <visible>Container($INFO[Container(300).ListItem.Property(id)]601).OnNext | Container($INFO[Container(300).ListItem.Property(id)]601).OnPrevious</visible>
                    <animation effect="fade" start="100" end="0" delay="400" time="1" reversible="false">Hidden</animation>
                </control>
            </control>

            <control type="multiimage" description="Fanart">
                <visible>$EXP[Home_Menu_Is_Focus]</visible>
                <include>Animation_Animate_Fanart</include>
                <include>Animation_AutoTrailer_FadeOut_Background</include>
                <include>Animation_VideoHomeWindowsFlix_FadeOut_Background</include>

                <include>Background_Fanart_Fade_time</include>
                <timeperimage>Background_Fanart_Time_Before_Next_Image</timeperimage>
                <randomize>true</randomize>

                <!-- <include>Def_Brightness_Full_Screen</include> -->
                <include>Def_Dimensions_Fullscreen</include>

                <aspectratio>scale</aspectratio>
                <imagepath background="true">$VAR[Global_Fanart_Background]</imagepath>
            </control>

            <control type="image">
                <include>Def_Dimensions_Fullscreen</include>
                <texture colordiffuse="FloorFade">background/full_clean2.png</texture>
            </control>
        </control>
    </include>

    <!-- ================= -->
    <!--   FANART GLOBAL   -->
    <!-- ================= -->

    <variable name="Global_Fanart_Background">

        <!-- DEBUG -->

        <!-- <value>$INFO[Container(99950).ListItem.Art(fanart)]</value> -->
        <!-- <value>$INFO[Container(99950).ListItem.Art(poster)]</value> -->
        <!-- <value>$INFO[ListItem.EpgEventIcon]</value> -->
        <!-- <value>$INFO[Skin.String(fanart.fallback.music)]</value> -->
        <!-- <value>$INFO[ListItem.Thumb]</value> -->
        <!-- <value>$INFO[ListItem.Art(fanart)]</value> -->
        <!-- <value>$INFO[ListItem.Art(thumb)]</value> -->
        <!-- <value>$INFO[ListItem.Art(landscape)]</value> -->
        <!-- <value>$INFO[ListItem.Icon]</value> -->
        <!-- <value>background/bg_fallback.jpg</value> -->
        <!-- <value condition="!String.IsEmpty(Skin.String(fanart.fallback))">$INFO[Skin.String(fanart.fallback)]</value> -->
        <!-- <value>$INFO[ListItem.Art(fanart)]</value> -->

    <!-- =================================== -->
    <!--         DIALOG INFO EXTENDED        -->
    <!-- =================================== -->

        <!-- movie -->
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9506).ListItem.Art(fanart)) + Control.HasFocus(9506)">$INFO[Container(9506).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9556).ListItem.Art(fanart)) + Control.HasFocus(9556)">$INFO[Container(9556).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9514).ListItem.Art(fanart)) + Control.HasFocus(9514)">$INFO[Container(9514).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9515).ListItem.Art(fanart)) + Control.HasFocus(9515)">$INFO[Container(9515).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9502).ListItem.Art(fanart)) + Control.HasFocus(9502)">$INFO[Container(9502).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9517).ListItem.Art(fanart)) + Control.HasFocus(9517)">$INFO[Container(9517).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9503).ListItem.Art(fanart)) + Control.HasFocus(9503)">$INFO[Container(9503).ListItem.Art(fanart)]</value>

        <!-- tvshow -->
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9579).ListItem.Art(fanart)) + Control.HasFocus(9579)">$INFO[Container(9579).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9520).ListItem.Art(fanart)) + Control.HasFocus(9520)">$INFO[Container(9520).ListItem.Art(fanart)]</value>

        <!-- Person -->
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9552).ListItem.Art(fanart)) + Control.HasFocus(9552)">$INFO[Container(9552).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9553).ListItem.Art(fanart)) + Control.HasFocus(9553)">$INFO[Container(9553).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9558).ListItem.Art(fanart)) + Control.HasFocus(9558)">$INFO[Container(9558).ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9559).ListItem.Art(fanart)) + Control.HasFocus(9559)">$INFO[Container(9559).ListItem.Art(fanart)]</value>

    <!-- =================================== -->
    <!--             NOW PLAYING             -->
    <!-- =================================== -->

        <!-- PVR -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + $EXP[Extended_Now_Playing_Is_Visible] + Window.IsVisible(Home) + !ControlGroup(301).HasFocus() + !String.IsEmpty(PVR.EpgEventIcon) + Player.HasMedia + VideoPlayer.Content(livetv)">$INFO[PVR.EpgEventIcon]</value>

        <value condition="!Skin.HasSetting(hide.global.fanart) + $EXP[Extended_Now_Playing_Is_Visible] + Window.IsVisible(Home) + !ControlGroup(301).HasFocus() + String.IsEmpty(PVR.EpgEventIcon) + Player.HasMedia + !Player.HasAudio + [VideoPlayer.Content(livetv) | VideoPlayer.Content(files)]">$INFO[Skin.String(fanart.fallback.pvr)]</value>

        <!-- MUSIC -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + $EXP[Extended_Now_Playing_Is_Visible] + Window.IsVisible(Home) + !ControlGroup(301).HasFocus() + !String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image)) + System.AddonIsEnabled(script.artistslideshow) + !Skin.HasSetting(disable.artist.slideshow) + Player.HasAudio">$INFO[Window(Visualisation).Property(ArtistSlideshow.Image)]</value>

        <value condition="!Skin.HasSetting(hide.global.fanart) + $EXP[Extended_Now_Playing_Is_Visible] + Window.IsVisible(Home) + !ControlGroup(301).HasFocus() + [Skin.HasSetting(enable.osd.music.visualisation.fanart) + !String.IsEmpty(Player.Art(fanart)) + [String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image)) | !System.AddonIsEnabled(script.artistslideshow) | Skin.HasSetting(disable.artist.slideshow)]] + Player.HasAudio">$INFO[Player.Art(fanart)]</value>

        <value condition="!Skin.HasSetting(hide.global.fanart) + $EXP[Extended_Now_Playing_Is_Visible] + Window.IsVisible(Home) + !ControlGroup(301).HasFocus() + !String.IsEmpty(Skin.String(fanart.fallback.music)) + Skin.HasSetting(enable.osd.music.visualisation.fanart) + Player.HasAudio">$INFO[Skin.String(fanart.fallback.music)]</value>

        <!-- EPISODE -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + $EXP[Extended_Now_Playing_Is_Visible] + Window.IsVisible(Home) + !ControlGroup(301).HasFocus() + !String.IsEmpty(Player.Art(thumb)) + Player.HasMedia + !String.IsEmpty(VideoPlayer.Episode) + Skin.HasSetting(use.thumbnail.episodes)">$INFO[Player.Art(thumb)]</value>

        <!-- OTHERS -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + $EXP[Extended_Now_Playing_Is_Visible] + Window.IsVisible(Home) + !ControlGroup(301).HasFocus() + !String.IsEmpty(Player.Art(fanart)) + Player.HasMedia">$INFO[Player.Art(fanart)]</value>

    <!-- =================================== -->
    <!--         VIEW PLAYLIST               -->
    <!-- =================================== -->

        <!-- MUSIC -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + String.IsEqual(Container.FolderPath,playlistmusic://) + !String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image)) + System.AddonIsEnabled(script.artistslideshow) + !Skin.HasSetting(disable.artist.slideshow) + Player.HasAudio">$INFO[Window(Visualisation).Property(ArtistSlideshow.Image)]</value>

        <value condition="!Skin.HasSetting(hide.global.fanart) + String.IsEqual(Container.FolderPath,playlistmusic://) + [Skin.HasSetting(enable.osd.music.visualisation.fanart) + !String.IsEmpty(Player.Art(fanart)) + [String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image)) | !System.AddonIsEnabled(script.artistslideshow) | Skin.HasSetting(disable.artist.slideshow)]] + Player.HasAudio">$INFO[Player.Art(fanart)]</value>

        <value condition="!Skin.HasSetting(hide.global.fanart) + String.IsEqual(Container.FolderPath,playlistmusic://) + !String.IsEmpty(Skin.String(fanart.fallback.music)) + Skin.HasSetting(enable.osd.music.visualisation.fanart) + Player.HasAudio">$INFO[Skin.String(fanart.fallback.music)]</value>

    <!-- =================================== -->
    <!--               SEARCH                -->
    <!-- =================================== -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(Home) + Control.HasFocus(9099) + !String.IsEmpty(Skin.String(fanart.fallback.search))">$INFO[Skin.String(fanart.fallback.search)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Skin.String(fanart.fallback.search)) + Window.IsVisible(script-globalsearch.xml) + !$EXP[View_Info_Dialog]">$INFO[Skin.String(fanart.fallback.search)]</value>

    <!-- =================================== -->
    <!--           MULTI FANART              -->
    <!-- =================================== -->

         <value condition="!Skin.HasSetting(hide.global.fanart) + Skin.HasSetting(enable.extra.fanart) + !String.IsEmpty(Control.GetLabel(4399))">$INFO[Control.GetLabel(4399)]</value>

    <!-- =================================== -->
    <!--             WEATHER                 -->
    <!-- =================================== -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(Home) + !Container(301).IsUpdating + !String.IsEmpty(ListItem.Property(FanartCode)) + !String.Contains(Skin.String(weather.fanart.path),multi) + !String.IsEmpty(Skin.String(weather.fanart.path))">$INFO[Skin.String(weather.fanart.path)]$INFO[ListItem.Property(FanartCode),,.jpg]</value>

        <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(Home) + !Container(301).IsUpdating + !String.IsEmpty(ListItem.Property(FanartCode)) + String.Contains(Skin.String(weather.fanart.path),multi) + !String.IsEmpty(Skin.String(weather.fanart.path))">$INFO[Skin.String(weather.fanart.path)]$INFO[ListItem.Property(FanartCode)]/</value>

        <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(weather) + !String.IsEmpty(Skin.String(weather.fanart.path))">$INFO[Skin.String(weather.fanart.path)]$INFO[Window(Weather).Property(Current.FanartCode)]/</value>

        <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(Home) + !String.IsEmpty(Skin.String(weather.fanart.path)) + Skin.HasSetting(home.showweatherfanart) + [String.IsEmpty(Container(300).ListItem.Property(widget)) | Container(301).IsUpdating]">$INFO[Skin.String(weather.fanart.path)]$INFO[Window(Weather).Property(Current.FanartCode)]/</value>

        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(Home) + ![$EXP[Extended_Now_Playing_Is_Visible] + Player.Playing + !Skin.HasSetting(home.hide.nowplaying) + [$EXP[Home_Is_Horizontal] | $EXP[Home_Is_Vertical]]] + !String.IsEmpty(Skin.String(weather.fanart.path)) + [String.IsEqual(Container(300).ListItem.Property(widget),weatherdaily) | String.IsEqual(Container(300).ListItem.Property(widget),weatherhourly)] + String.Contains(Skin.String(weather.fanart.path),multi) + String.IsEmpty(Container(300).ListItem.Property(Background))">$INFO[Skin.String(weather.fanart.path)]$INFO[Window(Weather).Property(Current.FanartCode)]/</value> -->

        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(Home) + ![$EXP[Extended_Now_Playing_Is_Visible] + Player.Playing + !Skin.HasSetting(home.hide.nowplaying) + [$EXP[Home_Is_Horizontal] | $EXP[Home_Is_Vertical]]] + !String.IsEmpty(Skin.String(weather.fanart.path)) + [String.IsEqual(Container(300).ListItem.Property(widget),weatherdaily) | String.IsEqual(Container(300).ListItem.Property(widget),weatherhourly)] + !String.Contains(Skin.String(weather.fanart.path),multi) + String.IsEmpty(Container(300).ListItem.Property(Background))">$INFO[Skin.String(weather.fanart.path)]$INFO[Window(Weather).Property(Current.FanartCode),,.jpg]</value> -->

        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + Skin.HasSetting(home.vertical) + Window.IsVisible(Home) + !String.IsEmpty(Skin.String(weather.fanart.path)) + [String.IsEqual(Container(300).ListItem.Property(widget),weatherdaily) | String.IsEqual(Container(300).ListItem.Property(widget),weatherhourly)] + String.Contains(Skin.String(weather.fanart.path),multi)">$INFO[Skin.String(weather.fanart.path)]$INFO[Window(Weather).Property(Current.FanartCode)]/</value> -->

        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + Skin.HasSetting(home.vertical) + Window.IsVisible(Home) + !String.IsEmpty(Skin.String(weather.fanart.path)) + [String.IsEqual(Container(300).ListItem.Property(widget),weatherdaily) | String.IsEqual(Container(300).ListItem.Property(widget),weatherhourly)] + !String.Contains(Skin.String(weather.fanart.path),multi) + String.IsEmpty(Container(300).ListItem.Property(background))">$INFO[Skin.String(weather.fanart.path)]$INFO[Window(Weather).Property(Current.FanartCode),,.jpg]</value> -->


    <!-- =================================== -->
    <!--   START WITH PLAYLIST               -->
    <!-- =================================== -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(Home) + String.IsEqual(Container(300).ListItem.Property(background),playlistBackground)">$INFO[Container(9988).ListItem.Art(fanart)]</value>

    <!-- ==================================================================================================== -->
    <!--   HOME - ON FOCUS MENU 300 / 302 SHOW WIDGET BACKGROUND IF home.enable.menu.background ENABLE        -->
    <!-- ==================================================================================================== -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + Skin.HasSetting(home.enable.menu.background) + Window.IsVisible(Home) + !String.IsEmpty(Container(300).ListItem.Property(background)) + $EXP[Home_Menu_Is_Focus]">$INFO[Container(300).ListItem.Property(background)]</value>


    <!-- ==================================================================================================== -->
    <!--  HOME - ON FOCUS MENU 300 / 302 SHOW ITEM WIDGET BACKGROUND IF home.enable.menu.background DISABLE   -->
    <!-- ==================================================================================================== -->

        <!-- MULTI WIDGET FIRST WIDGET -->

        <!-- OTHERS -->

        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(1601).ListItem.Art(fanart)) + Control.IsVisible(1601) + !Container(1601).IsUpdating">$INFO[Container(1601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(2601).ListItem.Art(fanart)) + Control.IsVisible(2601) + !Container(2601).IsUpdating">$INFO[Container(2601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(3601).ListItem.Art(fanart)) + Control.IsVisible(3601) + !Container(3601).IsUpdating">$INFO[Container(3601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(4601).ListItem.Art(fanart)) + Control.IsVisible(4601) + !Container(4601).IsUpdating">$INFO[Container(4601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(5601).ListItem.Art(fanart)) + Control.IsVisible(5601) + !Container(5601).IsUpdating">$INFO[Container(5601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(6601).ListItem.Art(fanart)) + Control.IsVisible(6601) + !Container(6601).IsUpdating">$INFO[Container(6601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(7601).ListItem.Art(fanart)) + Control.IsVisible(7601) + !Container(7601).IsUpdating">$INFO[Container(7601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(8601).ListItem.Art(fanart)) + Control.IsVisible(8601) + !Container(8601).IsUpdating">$INFO[Container(8601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(9601).ListItem.Art(fanart)) + Control.IsVisible(9601) + !Container(9601).IsUpdating">$INFO[Container(9601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(10601).ListItem.Art(fanart)) + Control.IsVisible(10601) + !Container(10601).IsUpdating">$INFO[Container(10601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(11601).ListItem.Art(fanart)) + Control.IsVisible(11601) + !Container(11601).IsUpdating">$INFO[Container(11601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(12601).ListItem.Art(fanart)) + Control.IsVisible(12601) + !Container(12601).IsUpdating">$INFO[Container(12601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(13601).ListItem.Art(fanart)) + Control.IsVisible(13601) + !Container(13601).IsUpdating">$INFO[Container(13601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(14601).ListItem.Art(fanart)) + Control.IsVisible(14601) + !Container(14601).IsUpdating">$INFO[Container(14601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(15601).ListItem.Art(fanart)) + Control.IsVisible(15601) + !Container(15601).IsUpdating">$INFO[Container(15601).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(16601).ListItem.Art(fanart)) + Control.IsVisible(16601) + !Container(16601).IsUpdating">$INFO[Container(16601).ListItem.Art(fanart)]</value>

        <!-- EPISODES -->

        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(1601).ListItem.Art(thumb)) + String.IsEqual(Container(1601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(1601) + !Container(1601).IsUpdating">$INFO[Container(1601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(2601).ListItem.Art(thumb)) + String.IsEqual(Container(2601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(2601) + !Container(1601).IsUpdating">$INFO[Container(2601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(3601).ListItem.Art(thumb)) + String.IsEqual(Container(3601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(3601) + !Container(1601).IsUpdating">$INFO[Container(3601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(4601).ListItem.Art(thumb)) + String.IsEqual(Container(4601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(4601) + !Container(1601).IsUpdating">$INFO[Container(4601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(5601).ListItem.Art(thumb)) + String.IsEqual(Container(5601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(5601) + !Container(1601).IsUpdating">$INFO[Container(5601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(6601).ListItem.Art(thumb)) + String.IsEqual(Container(6601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(6601) + !Container(1601).IsUpdating">$INFO[Container(6601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(7601).ListItem.Art(thumb)) + String.IsEqual(Container(7601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(7601) + !Container(1601).IsUpdating">$INFO[Container(7601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(8601).ListItem.Art(thumb)) + String.IsEqual(Container(8601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(8601) + !Container(1601).IsUpdating">$INFO[Container(8601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(9601).ListItem.Art(thumb)) + String.IsEqual(Container(9601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(9601) + !Container(1601).IsUpdating">$INFO[Container(9601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(10601).ListItem.Art(thumb)) + String.IsEqual(Container(10601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(10601) + !Container(1601).IsUpdating">$INFO[Container(10601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(11601).ListItem.Art(thumb)) + String.IsEqual(Container(11601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(11601) + !Container(1601).IsUpdating">$INFO[Container(11601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(12601).ListItem.Art(thumb)) + String.IsEqual(Container(12601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(12601) + !Container(1601).IsUpdating">$INFO[Container(12601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(13601).ListItem.Art(thumb)) + String.IsEqual(Container(13601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(13601) + !Container(1601).IsUpdating">$INFO[Container(13601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(14601).ListItem.Art(thumb)) + String.IsEqual(Container(14601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(14601) + !Container(1601).IsUpdating">$INFO[Container(14601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(15601).ListItem.Art(thumb)) + String.IsEqual(Container(15601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(15601) + !Container(1601).IsUpdating">$INFO[Container(15601).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(16601).ListItem.Art(thumb)) + String.IsEqual(Container(16601).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + Control.IsVisible(16601) + !Container(1601).IsUpdating">$INFO[Container(16601).ListItem.Art(thumb)]</value>


        <!-- PVR -->

        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(1601).ListItem.EpgEventIcon) + String.StartsWith(Container(1601).ListItem.Path,pvr://channels) + Control.IsVisible(1601) + !Container(1601).IsUpdating">$INFO[Container(1601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(2601).ListItem.EpgEventIcon) + String.StartsWith(Container(2601).ListItem.Path,pvr://channels) + Control.IsVisible(2601) + !Container(1601).IsUpdating">$INFO[Container(2601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(3601).ListItem.EpgEventIcon) + String.StartsWith(Container(3601).ListItem.Path,pvr://channels) + Control.IsVisible(3601) + !Container(1601).IsUpdating">$INFO[Container(3601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(4601).ListItem.EpgEventIcon) + String.StartsWith(Container(4601).ListItem.Path,pvr://channels) + Control.IsVisible(4601) + !Container(1601).IsUpdating">$INFO[Container(4601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(5601).ListItem.EpgEventIcon) + String.StartsWith(Container(5601).ListItem.Path,pvr://channels) + Control.IsVisible(5601) + !Container(1601).IsUpdating">$INFO[Container(5601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(6601).ListItem.EpgEventIcon) + String.StartsWith(Container(6601).ListItem.Path,pvr://channels) + Control.IsVisible(6601) + !Container(1601).IsUpdating">$INFO[Container(6601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(7601).ListItem.EpgEventIcon) + String.StartsWith(Container(7601).ListItem.Path,pvr://channels) + Control.IsVisible(7601) + !Container(1601).IsUpdating">$INFO[Container(7601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(8601).ListItem.EpgEventIcon) + String.StartsWith(Container(8601).ListItem.Path,pvr://channels) + Control.IsVisible(8601) + !Container(1601).IsUpdating">$INFO[Container(8601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(9601).ListItem.EpgEventIcon) + String.StartsWith(Container(9601).ListItem.Path,pvr://channels) + Control.IsVisible(9601) + !Container(1601).IsUpdating">$INFO[Container(9601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(10601).ListItem.EpgEventIcon) + String.StartsWith(Container(10601).ListItem.Path,pvr://channels) + Control.IsVisible(10601) + !Container(1601).IsUpdating">$INFO[Container(10601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(11601).ListItem.EpgEventIcon) + String.StartsWith(Container(11601).ListItem.Path,pvr://channels) + Control.IsVisible(11601) + !Container(1601).IsUpdating">$INFO[Container(11601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(12601).ListItem.EpgEventIcon) + String.StartsWith(Container(12601).ListItem.Path,pvr://channels) + Control.IsVisible(12601) + !Container(1601).IsUpdating">$INFO[Container(12601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(13601).ListItem.EpgEventIcon) + String.StartsWith(Container(13601).ListItem.Path,pvr://channels) + Control.IsVisible(13601) + !Container(1601).IsUpdating">$INFO[Container(13601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(14601).ListItem.EpgEventIcon) + String.StartsWith(Container(14601).ListItem.Path,pvr://channels) + Control.IsVisible(14601) + !Container(1601).IsUpdating">$INFO[Container(14601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(15601).ListItem.EpgEventIcon) + String.StartsWith(Container(15601).ListItem.Path,pvr://channels) + Control.IsVisible(15601) + !Container(1601).IsUpdating">$INFO[Container(15601).ListItem.EpgEventIcon]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(16601).ListItem.EpgEventIcon) + String.StartsWith(Container(16601).ListItem.Path,pvr://channels) + Control.IsVisible(16601) + !Container(1601).IsUpdating">$INFO[Container(16601).ListItem.EpgEventIcon]</value>


        <!--MULTI WIDGET SECOND WIDGET (CASE FIRST WIDGET BECOME EMPTY) -->

        <!-- EPISODES -->

        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(1602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(1602).ListItem.Art(thumb)) + Integer.IsEqual(Container(1601).NumItems,0) + Control.IsVisible(1602) + !Container(1602).IsUpdating">$INFO[Container(1602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(2602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(2602).ListItem.Art(thumb)) + Integer.IsEqual(Container(2601).NumItems,0) + Control.IsVisible(2602) + !Container(2602).IsUpdating">$INFO[Container(2602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(3602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(3602).ListItem.Art(thumb)) + Integer.IsEqual(Container(3601).NumItems,0) + Control.IsVisible(3602) + !Container(3602).IsUpdating">$INFO[Container(3602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(4602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(4602).ListItem.Art(thumb)) + Integer.IsEqual(Container(4601).NumItems,0) + Control.IsVisible(4602) + !Container(4602).IsUpdating">$INFO[Container(4602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(5602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(5602).ListItem.Art(thumb)) + Integer.IsEqual(Container(5601).NumItems,0) + Control.IsVisible(5602) + !Container(5602).IsUpdating">$INFO[Container(5602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(6602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(6602).ListItem.Art(thumb)) + Integer.IsEqual(Container(6601).NumItems,0) + Control.IsVisible(6602) + !Container(6602).IsUpdating">$INFO[Container(6602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(7602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(7602).ListItem.Art(thumb)) + Integer.IsEqual(Container(7601).NumItems,0) + Control.IsVisible(7602) + !Container(7602).IsUpdating">$INFO[Container(7602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(8602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(8602).ListItem.Art(thumb)) + Integer.IsEqual(Container(8601).NumItems,0) + Control.IsVisible(8602) + !Container(8602).IsUpdating">$INFO[Container(8602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(9602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(9602).ListItem.Art(thumb)) + Integer.IsEqual(Container(9601).NumItems,0) + Control.IsVisible(9602) + !Container(9602).IsUpdating">$INFO[Container(9602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(10602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(10602).ListItem.Art(thumb)) + Integer.IsEqual(Container(10601).NumItems,0) + Control.IsVisible(10602) + !Container(10602).IsUpdating">$INFO[Container(10602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(11602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(11602).ListItem.Art(thumb)) + Integer.IsEqual(Container(11601).NumItems,0) + Control.IsVisible(11602) + !Container(11602).IsUpdating">$INFO[Container(11602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(12602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(12602).ListItem.Art(thumb)) + Integer.IsEqual(Container(12601).NumItems,0) + Control.IsVisible(12602) + !Container(12602).IsUpdating">$INFO[Container(12602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(13602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(13602).ListItem.Art(thumb)) + Integer.IsEqual(Container(13601).NumItems,0) + Control.IsVisible(13602) + !Container(13602).IsUpdating">$INFO[Container(13602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(14602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(14602).ListItem.Art(thumb)) + Integer.IsEqual(Container(14601).NumItems,0) + Control.IsVisible(14602) + !Container(14602).IsUpdating">$INFO[Container(14602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(15602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(15602).ListItem.Art(thumb)) + Integer.IsEqual(Container(15601).NumItems,0) + Control.IsVisible(15602) + !Container(15602).IsUpdating">$INFO[Container(15602).ListItem.Art(thumb)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + String.IsEqual(Container(16602).ListItem.DBType,episode) + Skin.HasSetting(use.thumbnail.episodes) + !String.IsEmpty(Container(16602).ListItem.Art(thumb)) + Integer.IsEqual(Container(16601).NumItems,0) + Control.IsVisible(16602) + !Container(16602).IsUpdating">$INFO[Container(16602).ListItem.Art(thumb)]</value>

        <!-- OTHER -->

        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(1602).ListItem.Art(fanart)) + Integer.IsEqual(Container(1601).NumItems,0) + Control.IsVisible(1602) + !Container(1602).IsUpdating">$INFO[Container(1602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(2602).ListItem.Art(fanart)) + Integer.IsEqual(Container(2601).NumItems,0) + Control.IsVisible(2602) + !Container(1602).IsUpdating">$INFO[Container(2602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(3602).ListItem.Art(fanart)) + Integer.IsEqual(Container(3601).NumItems,0) + Control.IsVisible(3602) + !Container(1602).IsUpdating">$INFO[Container(3602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(4602).ListItem.Art(fanart)) + Integer.IsEqual(Container(4601).NumItems,0) + Control.IsVisible(4602) + !Container(1602).IsUpdating">$INFO[Container(4602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(5602).ListItem.Art(fanart)) + Integer.IsEqual(Container(5601).NumItems,0) + Control.IsVisible(5602) + !Container(1602).IsUpdating">$INFO[Container(5602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(6602).ListItem.Art(fanart)) + Integer.IsEqual(Container(6601).NumItems,0) + Control.IsVisible(6602) + !Container(1602).IsUpdating">$INFO[Container(6602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(7602).ListItem.Art(fanart)) + Integer.IsEqual(Container(7601).NumItems,0) + Control.IsVisible(7602) + !Container(1602).IsUpdating">$INFO[Container(7602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(8602).ListItem.Art(fanart)) + Integer.IsEqual(Container(8601).NumItems,0) + Control.IsVisible(8602) + !Container(1602).IsUpdating">$INFO[Container(8602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(9602).ListItem.Art(fanart)) + Integer.IsEqual(Container(9601).NumItems,0) + Control.IsVisible(9602) + !Container(1602).IsUpdating">$INFO[Container(9602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(10602).ListItem.Art(fanart)) + Integer.IsEqual(Container(10601).NumItems,0) + Control.IsVisible(10602) + !Container(1602).IsUpdating">$INFO[Container(10602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(11602).ListItem.Art(fanart)) + Integer.IsEqual(Container(11601).NumItems,0) + Control.IsVisible(11602) + !Container(1602).IsUpdating">$INFO[Container(11602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(12602).ListItem.Art(fanart)) + Integer.IsEqual(Container(12601).NumItems,0) + Control.IsVisible(12602) + !Container(1602).IsUpdating">$INFO[Container(12602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(13602).ListItem.Art(fanart)) + Integer.IsEqual(Container(13601).NumItems,0) + Control.IsVisible(13602) + !Container(1602).IsUpdating">$INFO[Container(13602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(14602).ListItem.Art(fanart)) + Integer.IsEqual(Container(14601).NumItems,0) + Control.IsVisible(14602) + !Container(1602).IsUpdating">$INFO[Container(14602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(15602).ListItem.Art(fanart)) + Integer.IsEqual(Container(15601).NumItems,0) + Control.IsVisible(15602) + !Container(1602).IsUpdating">$INFO[Container(15602).ListItem.Art(fanart)]</value>
        <value condition="$EXP[Home_Background_On_Menu] + !String.IsEmpty(Container(16602).ListItem.Art(fanart)) + Integer.IsEqual(Container(16601).NumItems,0) + Control.IsVisible(16602) + !Container(1602).IsUpdating">$INFO[Container(16602).ListItem.Art(fanart)]</value>


    <!-- =================================== -->
    <!--          ITEM ARTWORK               -->
    <!-- =================================== -->

        <!-- PVR -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(ListItem.EpgEventIcon) + String.StartsWith(ListItem.FolderPath,pvr://channels)">$INFO[ListItem.EpgEventIcon]</value>
        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + $EXP[Extended_Now_Playing_Is_Visible] + Window.IsVisible(Home) + !ControlGroup(301).HasFocus() + !String.IsEmpty(PVR.EpgEventIcon) + Player.HasMedia + VideoPlayer.Content(livetv)">$INFO[PVR.EpgEventIcon]</value> -->
        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(ListItem.EpgEventIcon)">$INFO[ListItem.EpgEventIcon]</value> -->

        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(tvchannels) + !String.IsEmpty(ListItem.EpgEventIcon)">$INFO[ListItem.EpgEventIcon]</value> -->
        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + Window.IsVisible(tvguide) + !String.IsEmpty(ListItem.EpgEventIcon)">$INFO[ListItem.EpgEventIcon]</value> -->


        <!-- HUB -->
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(9500).ListItem.Art(fanart))">$INFO[Container(9500).ListItem.Art(fanart)]</value>

        <!-- EPISODE -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + Skin.HasSetting(use.thumbnail.episodes) + String.IsEqual(ListItem.DBType,episode) + !String.IsEmpty(ListItem.Art(thumb))">$INFO[ListItem.Art(thumb)]</value>

        <!-- SEASON -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + String.IsEqual(ListItem.DBType,season) + !Skin.HasSetting(dont.use.landscape.seasons) + !String.IsEmpty(ListItem.Art(landscape)) + !ListItem.IsParentFolder">$INFO[ListItem.Art(landscape)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + String.IsEqual(ListItem.DBType,season) + Skin.HasSetting(dont.use.landscape.seasons) + !String.IsEmpty(ListItem.Art(tvshow.fanart)) + !ListItem.IsParentFolder">$INFO[ListItem.Art(tvshow.fanart)]</value>

        <!-- ALBUM / SONG -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + String.IsEqual(ListItem.DBType,album) + !String.IsEmpty(ListItem.Art(artist.fanart))">$INFO[ListItem.Art(artist.fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + String.IsEqual(ListItem.DBType,song) + !String.IsEmpty(ListItem.Art(artist.fanart))">$INFO[ListItem.Art(artist.fanart)]</value>

        <!-- YOUTUBE -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(ListItem.Art(fanart)) + $EXP[IsYoutubeItem]">$INFO[ListItem.Art(fanart)]</value>


        <!-- ALL OTHERS -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(ListItem.Art(fanart))">$INFO[ListItem.Art(fanart)]</value>
        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(ListItem.Art(landscape))">$INFO[ListItem.Art(landscape)]</value>

        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(ListItem.Thumb)">$INFO[ListItem.Thumb]</value> -->
        <!-- <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(ListItem.Art(thumb))">$INFO[ListItem.Art(thumb)]</value> -->

        <!-- FROM TMDB HELPER -->

        <value condition="!Skin.HasSetting(hide.global.fanart) + !String.IsEmpty(Container(99950).ListItem.Art(fanart)) + [!Window.IsVisible(Home) | ![Window.IsVisible(Home) + Skin.HasSetting(home.enable.menu.background)]]">$INFO[Container(99950).ListItem.Art(fanart)]</value>

    <!-- =================================== -->
    <!--              FALLBACK               -->
    <!-- =================================== -->

        <!-- APPLE PODCASTS -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.podcasts)) + [$EXP[IsItunesItem] | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(path),plugin://plugin.video.itunes_podcasts)]]">$INFO[Skin.String(fanart.fallback.podcasts)]</value>

        <!-- YOUTUBE -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.youtube)) + [$EXP[IsYoutubeItem] | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(path),plugin://plugin.video.youtube)]]">$INFO[Skin.String(fanart.fallback.youtube)]</value>

        <!-- WEATHER -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.weather)) + [Window.IsVisible(MyWeather.xml) | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(Path),Weather)]]">$INFO[Skin.String(fanart.fallback.weather)]</value>

        <!-- FAVOURITES -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.favourite)) + [Container.Content(favourites) | String.IsEqual(ListItem.Path,favourites://) | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(Path),favourite)]]">$INFO[Skin.String(fanart.fallback.favourite)]</value>

        <!-- IMAGES -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.image)) + [Container.Content(images) | Window.IsVisible(MyPics.xml) | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(Path),Picture)]]">$INFO[Skin.String(fanart.fallback.image)]</value>

        <!-- GAMES -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.game)) + [Container.Content(games) | Window.IsVisible(MyGames.xml) | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(Path),Games)]]">$INFO[Skin.String(fanart.fallback.game)]</value>

        <!-- PERSON (VIDEOS) -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.person)) + [Container.Content(directors) | Container.Content(actors) | String.IsEqual(ListItem.Property(item.type),person) | String.IsEqual(ListItem.DBType,actor) | String.IsEqual(ListItem.DBType,director)]">$INFO[Skin.String(fanart.fallback.person)]</value>

        <!-- LIVE TV -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.pvr)) + [Window.IsVisible(MyPVRRecordings.xml) | Window.IsVisible(MyPVRSearch.xml) | Window.IsVisible(MyPVRTimers.xml) | Window.IsVisible(MyPVRChannels.xml) | Window.IsVisible(MyPVRGuide.xml) | [Window.IsVisible(Home) +  String.Contains(Container(300).ListItem.Property(Path),channels)]]">$INFO[Skin.String(fanart.fallback.pvr)]</value>

        <!-- RADIO -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.radio)) + [$EXP[IsPluginRadio] | [Window.IsVisible(Home) +  String.Contains(Container(300).ListItem.Property(Path),radio)]]">$INFO[Skin.String(fanart.fallback.radio)]</value>

        <!-- MUSIC -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.music)) + [Container.Content(songs) | Container.Content(albums) | Container.Content(artists) | Container.Content(musicvideos) | String.IsEqual(Container.FolderPath,playlistmusic://) | String.StartsWith(ListItem.FolderPath,library://music/) | String.IsEqual(Container.FolderPath,special://musicplaylists/) | [Window.IsVisible(MyMusicNav.xml) + Container.Content(files)] | String.IsEqual(ListItem.DBType,album) | String.IsEqual(ListItem.DBType,artist) | String.IsEqual(ListItem.DBType,song) | String.IsEqual(Container.FolderPath,sources://music/) | String.IsEqual(Container.FolderPath,addons://sources/audio) | String.StartsWith(Container.FolderPath,musicdb://) | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(Path),Music)]]">$INFO[Skin.String(fanart.fallback.music)]</value>

        <!-- TVSHOWS -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.tvshow)) + [Container.Content(tvshows) | Container.Content(seasons) | Container.Content(episodes) | String.IsEqual(ListItem.DBType,tvshow) | String.IsEqual(ListItem.DBType,season) | String.IsEqual(ListItem.DBType,episode) | String.IsEqual(Container.FolderPath,library://video/tvshows/) | [Window.IsVisible(Home) + [String.Contains(Container(300).ListItem.Property(widgetType),tvshows) | String.Contains(Container(300).ListItem.Property(path),library://video/tvshows) | String.Contains(Container(300).ListItem.Property(defaultID),tvshows)]]]">$INFO[Skin.String(fanart.fallback.tvshow)]</value>

        <!-- MOVIES -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.movie)) + [Container.Content(movies) | Container.Content(videoversions) | [Window.IsVisible(MyVideoNav.xml) + Container.Content(files)] | [Window.IsVisible(MyVideoNav.xml) + Container.Content(playlists)] | String.IsEqual(Container.FolderPath,library://video/movies/) | String.IsEqual(ListItem.DBType,movie) | String.IsEqual(ListItem.DBType,video) | String.StartsWith(Container.FolderPath,videodb://movies/) | String.IsEqual(Container.FolderPath,sources://video/) | String.IsEqual(Container.FolderPath,addons://sources/video) | [Container.Content() + String.StartsWith(ListItem.FolderPath,library://video_flat/)] | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(Path),Videos)]]">$INFO[Skin.String(fanart.fallback.movie)]</value>

        <!-- SETTINGS -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.settings)) + [Window.IsVisible(Settings.xml) | Window.IsVisible(skinsettings.xml) | Window.IsVisible(SettingsSystemInfo.xml) | Window.IsVisible(service-CoreELEC-Settings-mainWindow.xml) | Window.IsVisible(service-LibreELEC-Settings-mainWindow.xml) | Window.IsVisible(SettingsCategory.xml) | Window.IsVisible(SettingsProfile.xml) | Window.IsVisible(EventLog.xml) | Window.IsVisible(FileManager.xml) | [Window.IsVisible(Home) +  [String.Contains(Container(300).ListItem.Property(Path),Settings) | String.Contains(Container(300).ListItem.Property(Path),System) | String.Contains(Container(300).ListItem.Property(defaultID),settings)]]]">$INFO[Skin.String(fanart.fallback.settings)]</value>

        <!-- PROGRAMS -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.programs)) + [Window.IsVisible(AddonBrowser.xml) | Window.IsVisible(MyPrograms.xml) | $EXP[IsPluginItem] | $EXP[IsScriptItem] | [Window.IsVisible(Home) +  [String.Contains(Container(300).ListItem.Property(Path),Programs) | String.Contains(Container(300).ListItem.Property(Path),ActivateWindow(Programs)) | String.Contains(Container(300).ListItem.Property(Path),System) | String.Contains(Container(300).ListItem.Property(defaultID),programs)]] | [$EXP[IsAnPlugin] + Container.Content()]]">$INFO[Skin.String(fanart.fallback.programs)]</value>

        <!-- EXIT -->

        <value condition="!Skin.HasSetting(global.show.fallback.only) + !String.IsEmpty(Skin.String(fanart.fallback.exit)) + [Window.IsVisible(DialogButtonMenu.xml) | [Window.IsVisible(Home) + String.Contains(Container(300).ListItem.Property(Path),ActivateWindow(shutdownmenu))]]">$INFO[Skin.String(fanart.fallback.exit)]</value>

        <!-- FALLBACK -->

        <value condition="!String.IsEmpty(Skin.String(fanart.fallback))">$INFO[Skin.String(fanart.fallback)]</value>

        <!-- Last chance -->
        <value>background/bg_fallback.jpg</value>
    </variable>
</includes>

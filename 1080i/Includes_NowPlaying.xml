<?xml version="1.0" encoding="UTF-8"?>
<includes>

    <!-- DEF - HEADER LABEL -->

    <include name="NowPlaying_Header_Label">
        <definition>
            <param name="left" value="$PARAM[left]" default="0" />
            <param name="visible" value="$PARAM[visible]" default="true" />
            <control type="label">
                <include content="Def_Height" condition="Player.HasVideo + Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo) + $EXP[Title_Clearlogo_PlayingNow_Available]">
                    <param name="height" value="ClearLogoTitleMaxHeight" />
                </include>
                <include content="Def_Height" condition="Player.HasAudio | !Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo) | !$EXP[Title_Clearlogo_PlayingNow_Available]">
                    <param name="height" value="56" />
                </include>
                <include content="Def_Font">
                    <param name="font" value="LargeNetflix" />
                </include>
                <width>100%</width>
                <left>$PARAM[left]</left>
                <align>left</align>
                <aligny>bottom</aligny>
                <textcolor>Dark1</textcolor>
                <label>$PARAM[label]</label>
                <include condition="Skin.HasSetting(labels.autoscroll)">LabelScroll</include>
                <visible>$PARAM[visible]</visible>
            </control>
        </definition>
    </include>

    <!-- DEF - BUTTON CONTROL -->

    <include name="NowPlaying_Controls">
        <control type="grouplist" id="777">

            <!-- <include>Def_OSD_FocusStop</include> -->
            <!-- <include>Def_OSD_FocusPause</include> -->

            <defaultcontrol always="true">14</defaultcontrol>

            <top>82</top>
            <left>2</left>
            <width>464</width>
            <height>64</height>

            <itemgap>11</itemgap>
            <orientation>horizontal</orientation>

            <include>OSD_NowPlaying</include>
        </control>
    </include>

    <!-- DEF - CLEARLOGO -->

    <include name="NowPlaying_ClearArt">
        <control type="group">
            <left>1360</left>
            <bottom>30</bottom>
            <animation effect="slide" start="0" end="0,30" time="0" condition="true">Conditional</animation>
            <animation effect="slide" start="0" end="-43,0" time="0" condition="$EXP[Home_Is_Vertical] + Skin.HasSetting(home.show.menu.icons)">Conditional</animation>

            <animation effect="fade" start="100" end="0" time="400" condition="$EXP[Home_Is_Vertical] + [[$EXP[Home_Menu_Is_Focus] | Control.HasFocus(9099)] | [!Skin.HasSetting(hide.home.menu) + !Skin.HasSetting(hide.home.menu.with.nowplaying.extended)]] + !Skin.HasSetting(home.show.menu.icons)">Conditional</animation>

            <animation type="WindowClose" condition="!$EXP[Home_Is_Vertical]">
                <effect type="slide" start="0" end="0,250" time="150" />
                <effect type="fade" start="100" end="20" time="150" />
            </animation>
            <animation effect="slide" start="0,150" end="0" time="150" reversible="false">WindowOpen</animation>

            <control type="image">
                <width>400</width>
                <texture>$VAR[Image_NowPlaying_ClearArt]</texture>
                <aspectratio scalediffuse="true" align="left" aligny="bottom">keep</aspectratio>
                <visible>Skin.HasSetting(show.home.nowplaying.extended.video.clearart) + Player.HasVideo</visible>
            </control>
            <control type="image">
                <width>400</width>
                <include content="Def_Bottom" condition="Skin.HasSetting(show.home.nowplaying.extended.music.clearlogo)">
                    <param name="bottom" value="15" />
                </include>
                <texture>$VAR[Image_NowPlaying_Art_Music]</texture>
                <aspectratio scalediffuse="true" align="left" aligny="bottom">keep</aspectratio>
                <visible>Skin.HasSetting(show.home.nowplaying.extended.music.clearlogo) + Player.HasAudio</visible>
            </control>
        </control>
    </include>

    <!-- DEF - PLAY PAUSE -->

    <include name="NowPlaying_PlayPause">
        <control type="group">
            <left>-60</left>
            <top>-40</top>
            <width>150</width>
            <height>150</height>
            <control type="image" description="Play">
                <aspectratio align="center" aligny="center">keep</aspectratio>
                <texture colordiffuse="$VAR[Color_Focus]">nowplaying/play.png</texture>
                <animation effect="fade" start="0" end="100" time="150">VisibleChange</animation>
                <visible>!Player.Paused + !Player.Forwarding + !Player.Forwarding</visible>
            </control>
            <control type="image" description="Pause">
                <aspectratio align="center" aligny="center">keep</aspectratio>
                <texture colordiffuse="$VAR[Color_Focus]">nowplaying/pause.png</texture>
                <animation effect="fade" start="0" end="100" time="150">VisibleChange</animation>
                <visible>Player.Paused</visible>
            </control>
            <control type="image" description="Forwarding">
                <aspectratio align="center" aligny="center">keep</aspectratio>
                <texture colordiffuse="$VAR[Color_Focus]">nowplaying/ff.png</texture>
                <animation effect="fade" start="0" end="100" time="150">VisibleChange</animation>
                <visible>Player.Forwarding</visible>
            </control>
            <control type="image" description="Rewinding">
                <aspectratio align="center" aligny="center">keep</aspectratio>
                <texture colordiffuse="$VAR[Color_Focus]">nowplaying/rw.png</texture>
                <animation effect="fade" start="0" end="100" time="150">VisibleChange</animation>
                <visible>Player.Rewinding</visible>
            </control>
        </control>
    </include>

    <!-- DEF - TIME -->

    <include name="NowPlaying_Time">
        <control type="label">
            <left>50</left>
            <align>left</align>
            <font>Medium</font>
            <width>auto</width>
            <textcolor>Dark2</textcolor>
            <label>$VAR[Label_NowPlaying_Time]</label>
        </control>
    </include>

    <!-- DEF - INFO RIGHT -->

    <include name="NowPlaying_InfoRight">
        <param name="visible" value="$PARAM[visible]" default="true" />
        <param name="left" value="$PARAM[left]" default="-42" />
        <definition>
            <control type="group">
                <animation effect="slide" start="0" end="-222,0" time="150" reversible="false" condition="[Player.HasMedia + Player.HasVideo] + !VideoPlayer.Content(livetv) + VideoPlayer.Content(files)">condition</animation>

                <width>100%</width>

                <include content="Def_Top" condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">
                    <param name="top" value="516" />
                </include>

                <top>580</top>
                <left>$PARAM[left]</left>
                <visible>$PARAM[visible]</visible>

                <!-- VIDEO -->

                <control type="group">
                    <visible>Player.HasMedia + Player.HasVideo</visible>

                    <include content="Def_Top" condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">
                        <param name="top" value="125" />
                    </include>

                    <top>60</top>
                    <left>252</left>

                    <control type="group">
                        <animation effect="slide" start="0,0" end="0,-70" time="0" condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">Conditional</animation>

                        <!-- PLAY / PAUSE INDICATOR -->

                        <include>NowPlaying_PlayPause</include>

                        <!-- TIME -->

                        <include>NowPlaying_Time</include>

                        <!-- SUB LABEL -->

                        <control type="label">
                            <top>60</top>
                            <width>450</width>
                            <scroll>true</scroll>
                            <include>Widgets_Sub_Title_Definition</include>
                            <label fallback="19055">$VAR[Label_NowPlaying_Time_VideoSubInfo]</label>
                            <animation type="Visible" reversible="false">
                                <effect type="fade" end="100" start="0" time="400" delay="300" />
                            </animation>
                            <visible>!Control.HasFocus(25) | [Control.HasFocus(25) + !Container(999).IsUpdating + !Integer.IsGreater(Container(999).NumItems,0)]</visible>
                            <visible>!VideoPlayer.Content(files) | [VideoPlayer.Content(livetv) + $EXP[Label_PVR_Info_Available]]</visible>
                        </control>

                        <!-- IF INFORMATION AVAILABLE ON CLICK POSTER -->

                        <control type="label">
                            <top>60</top>
                            <width>1100</width>
                            <include>Widgets_Sub_Title_Definition</include>
                            <label>$LOCALIZE[22081]</label>
                            <animation type="Hidden" reversible="false">
                                <effect type="fade" end="0" start="100" time="400" delay="0" />
                            </animation>
                            <visible>Control.HasFocus(25) + !Container(999).IsUpdating + Integer.IsGreater(Container(999).NumItems,0)</visible>
                        </control>

                        <!-- FLAG BLACK / WHITE -->

                        <control type="grouplist">
                            <!-- <visible>!Skin.HasSetting(enable.furniture.flags.colored)</visible> -->
                            <visible>[VideoPlayer.Content(files) + !VideoPlayer.Content(livetv)] | [VideoPlayer.Content(livetv) + !$EXP[Label_PVR_Info_Available]]</visible>

                            <top>55</top>
                            <left>-2</left>
                            <width>450</width>
                            <height>64</height>
                            <align>left</align>

                            <itemgap>10</itemgap>
                            <orientation>horizontal</orientation>
                            <usecontrolcoords>true</usecontrolcoords>

                            <!-- VIDEO - RESOLUTION -->

                            <control type="image" description="Video Resolution">
                                <width min="20" max="80">auto</width>
                                <include>Def_Flag_Image_Without_Label</include>
                                <texture colordiffuse="Dark1" fallback="flags/fallback.png">$INFO[VideoPlayer.VideoResolution,flags/video/white/resolution/,.png]</texture>
                                <visible>!String.IsEmpty(VideoPlayer.VideoResolution)</visible>
                            </control>

                            <!-- VIDEO -->

                            <control type="image" description="Video Codec">
                                <width min="20" max="100">auto</width>
                                <include>Def_Flag_Image_Without_Label</include>
                                <texture colordiffuse="Dark1" fallback="flags/fallback.png">$INFO[VideoPlayer.VideoCodec,flags/video/white/videocodec/,.png]</texture>
                                <visible>!String.IsEmpty(VideoPlayer.VideoCodec)</visible>
                            </control>
                            <control type="image" description="Aspect Ratio">
                                <width min="20" max="70">auto</width>
                                <include>Def_Flag_Image_Without_Label</include>
                                <texture colordiffuse="Dark1" fallback="flags/fallback.png">$INFO[VideoPlayer.VideoAspect,flags/video/white/aspectratio/,.png]</texture>
                                <visible>!String.IsEmpty(VideoPlayer.VideoAspect)</visible>
                            </control>

                            <!-- AUDIO -->

                            <control type="image" description="Audio Codec">
                                <width min="20" max="100">auto</width>
                                <aspectratio aligny="center" align="center">keep</aspectratio>
                                <include>Def_Flag_Image_Without_Label</include>
                                <texture colordiffuse="Dark1" fallback="flags/fallback.png">$VAR[Image_Media_Flag_Audio_Codec,flags/video/white/audiocodec/,.png]</texture>
                                <visible>!String.IsEmpty(VideoPlayer.AudioCodec)</visible>
                            </control>
                            <control type="image" description="Audio Channels">
                                <width>80</width>
                                <include>Def_Flag_Image_Without_Label</include>
                                <texture colordiffuse="Dark1" fallback="flags/fallback.png">$INFO[VideoPlayer.AudioChannels,flags/video/white/audiochannels/,.png]</texture>
                                <visible>!String.IsEmpty(VideoPlayer.AudioChannels)</visible>
                            </control>
                        </control>

                        <!-- FLAG COLORED -->

                        <!-- <control type="grouplist"> -->
                            <!-- <visible>Skin.HasSetting(enable.furniture.flags.colored)</visible> -->
                            <!-- <visible>VideoPlayer.Content(files) + !VideoPlayer.Content(livetv)</visible> -->
                            <!-- <top>55</top> -->
                            <!-- <left>-12</left> -->
                            <!-- <width>450</width> -->
                            <!-- <height>64</height> -->
                            <!-- <orientation>horizontal</orientation> -->
                            <!-- <align>left</align> -->
                            <!-- <itemgap>12</itemgap> -->
                            <!-- <usecontrolcoords>true</usecontrolcoords> -->

                            <!-- <control type="image"> -->
                                <!-- <width min="20" max="70">auto</width> -->
                                <!-- <centertop>50%</centertop> -->
                                <!-- <texture fallback="flags/fallback.png">$INFO[VideoPlayer.VideoResolution,flags/video/color/resolution/,.png]</texture> -->
                                <!-- <aspectratio align="left">keep</aspectratio> -->
                                <!-- <visible>!String.IsEmpty(VideoPlayer.VideoResolution)</visible> -->
                            <!-- </control> -->
                            <!-- <control type="image"> -->
                                <!-- <width min="20" max="80">auto</width> -->
                                <!-- <centertop>50%</centertop> -->
                                <!-- <texture fallback="flags/fallback.png">$INFO[VideoPlayer.VideoCodec,flags/video/color/videocodec/,.png]</texture> -->
                                <!-- <aspectratio align="center">keep</aspectratio> -->
                                <!-- <visible>!String.IsEmpty(VideoPlayer.VideoCodec)</visible> -->
                            <!-- </control> -->
                            <!-- <control type="image"> -->
                                <!-- <width min="20" max="80">auto</width> -->
                                <!-- <centertop>50%</centertop> -->
                                <!-- <texture fallback="flags/fallback.png">$INFO[VideoPlayer.VideoAspect,flags/video/color/aspectratio/,.png]</texture> -->
                                <!-- <aspectratio align="center">keep</aspectratio> -->
                                <!-- <visible>!String.IsEmpty(VideoPlayer.VideoAspect)</visible> -->
                            <!-- </control> -->
                            <!-- <control type="image"> -->
                                <!-- <width min="20" max="98">auto</width> -->
                                <!-- <centertop>50%</centertop> -->
                                <!-- <texture fallback="flags/fallback.png">$INFO[VideoPlayer.AudioCodec,flags/video/color/audiocodec/,.png]</texture> -->
                                <!-- <aspectratio align="center">keep</aspectratio> -->
                                <!-- <visible>!String.IsEmpty(VideoPlayer.AudioCodec)</visible> -->
                            <!-- </control> -->
                            <!-- <control type="image"> -->
                                <!-- <width min="20" max="70">auto</width> -->
                                <!-- <centertop>50%</centertop> -->
                                <!-- <texture fallback="flags/fallback.png">$INFO[VideoPlayer.AudioChannels,flags/video/color/audiochannels/,.png]</texture> -->
                                <!-- <aspectratio align="center">keep</aspectratio> -->
                                <!-- <visible>!String.IsEmpty(VideoPlayer.AudioChannels)</visible> -->
                            <!-- </control> -->
                        <!-- </control> -->
                    </control>
                    <control type="group">
                        <width>452</width>
                        <control type="group">
                            <top>50</top>
                            <width>100%</width>
                            <height>8</height>
                            <include condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">Object_OSD_Progress_Bar_Info</include>
                        </control>
                        <include condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">NowPlaying_Controls</include>
                    </control>
                </control>

                <!-- AUDIO -->

                <control type="group">
                    <visible>Player.HasMedia + Player.HasAudio</visible>

                    <include content="Def_Top" condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">
                        <param name="top" value="125" />
                    </include>

                    <top>60</top>
                    <left>340</left>

                    <control type="group">
                        <animation effect="slide" start="0,0" end="0,-70" time="0" condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">Conditional</animation>

                        <!-- PLAY / PAUSE INDICATOR -->

                        <include>NowPlaying_PlayPause</include>

                        <!-- TIME -->

                        <include>NowPlaying_Time</include>

                        <!-- SUB LABEL -->

                        <control type="label">
                            <top>60</top>
                            <width>450</width>
                            <scroll>true</scroll>
                            <include>Widgets_Sub_Title_Definition</include>
                            <label fallback="19055">$VAR[Label_NowPlaying_Time_MusicSubInfo]</label>
                            <animation type="Visible" reversible="false">
                                <effect type="fade" end="100" start="0" time="400" delay="300" />
                            </animation>
                            <visible>!Control.HasFocus(25) | [Control.HasFocus(25) + !Container(999).IsUpdating + !Integer.IsGreater(Container(999).NumItems,0)]</visible>
                        </control>

                        <!-- IF INFORMATION AVAILABLE ON CLICK POSTER -->

                        <control type="label">
                            <top>60</top>
                            <width>450</width>
                            <include>Widgets_Sub_Title_Definition</include>
                            <label>$LOCALIZE[22081]</label>
                            <animation type="Hidden" reversible="false">
                                <effect type="fade" end="0" start="100" time="400" delay="0" />
                            </animation>
                            <visible>Control.HasFocus(25) + !Container(999).IsUpdating + Integer.IsGreater(Container(999).NumItems,0)</visible>
                        </control>

                        <!-- FLAG BLACK / WHITE -->

                        <control type="grouplist">
                            <visible>!Skin.HasSetting(enable.furniture.flags.colored)</visible>
                            <visible>String.IsEmpty(MusicPlayer.Album)</visible>
                            <top>55</top>
                            <left>-12</left>
                            <width>450</width>
                            <height>64</height>
                            <orientation>horizontal</orientation>
                            <align>left</align>
                            <itemgap>12</itemgap>
                            <usecontrolcoords>true</usecontrolcoords>

                            <control type="image">
                                <width min="20" max="100">auto</width>
                                <centertop>50%</centertop>
                                <texture colordiffuse="Dark1" fallback="flags/fallback.png">$INFO[MusicPlayer.Codec,flags/video/white/audiocodec/,.png]</texture>
                                <aspectratio align="left">keep</aspectratio>
                                <visible>!String.IsEmpty(MusicPlayer.Codec)</visible>
                            </control>

                            <control type="grouplist">
                                <width min="20" max="100">auto</width>
                                <height>64</height>
                                <orientation>vertical</orientation>
                                <centertop>57%</centertop>
                                <itemgap>-17</itemgap>
                                <visible>!String.IsEmpty(MusicPlayer.BitRate)</visible>
                                <control type="label">
                                    <height>28</height>
                                    <align>center</align>
                                    <aligny>bottom</aligny>
                                    <label>$INFO[MusicPlayer.BitRate]</label>
                                    <font>Small20</font>
                                    <textcolor>Dark1</textcolor>
                                </control>
                                <control type="image">
                                    <height>44</height>
                                    <aspectratio>keep</aspectratio>
                                    <texture colordiffuse="Dark1">flags/audio/white/bit.png</texture>
                                    <aspectratio>keep</aspectratio>
                                </control>
                            </control>

                            <control type="grouplist">
                                <width min="20" max="100">auto</width>
                                <height>64</height>
                                <orientation>vertical</orientation>
                                <centertop>57%</centertop>
                                <itemgap>-17</itemgap>
                                <visible>!String.IsEmpty(MusicPlayer.Samplerate)</visible>
                                <control type="label">
                                    <height>28</height>
                                    <align>center</align>
                                    <aligny>bottom</aligny>
                                    <label>$INFO[MusicPlayer.Samplerate]</label>
                                    <font>Small20</font>
                                    <textcolor>Dark1</textcolor>
                                </control>
                                <control type="image">
                                    <height>44</height>
                                    <aspectratio>keep</aspectratio>
                                    <texture colordiffuse="Dark1">flags/audio/white/khz.png</texture>
                                    <aspectratio>keep</aspectratio>
                                </control>
                            </control>
                        </control>

                        <!-- FLAG COLORED -->

                        <!-- <control type="grouplist"> -->
                            <!-- <visible>Skin.HasSetting(enable.furniture.flags.colored)</visible> -->
                            <!-- <visible>String.IsEmpty(MusicPlayer.Album)</visible> -->
                            <!-- <top>55</top> -->
                            <!-- <left>-12</left> -->
                            <!-- <width>450</width> -->
                            <!-- <height>64</height> -->
                            <!-- <orientation>horizontal</orientation> -->
                            <!-- <align>left</align> -->
                            <!-- <itemgap>12</itemgap> -->
                            <!-- <usecontrolcoords>true</usecontrolcoords> -->

                            <!-- <control type="image"> -->
                                <!-- <width min="20" max="100">auto</width> -->
                                <!-- <centertop>50%</centertop> -->
                                <!-- <texture fallback="flags/fallback.png">$INFO[MusicPlayer.Codec,flags/video/color/audiocodec/,.png]</texture> -->
                                <!-- <aspectratio align="left">keep</aspectratio> -->
                                <!-- <visible>!String.IsEmpty(MusicPlayer.Codec)</visible> -->
                            <!-- </control> -->

                            <!-- <control type="grouplist"> -->
                                <!-- <width min="20" max="100">auto</width> -->
                                <!-- <height>64</height> -->
                                <!-- <orientation>vertical</orientation> -->
                                <!-- <centertop>57%</centertop> -->
                                <!-- <itemgap>-17</itemgap> -->
                                <!-- <visible>!String.IsEmpty(MusicPlayer.BitRate)</visible> -->
                                <!-- <control type="label"> -->
                                    <!-- <height>28</height> -->
                                    <!-- <align>center</align> -->
                                    <!-- <aligny>bottom</aligny> -->
                                    <!-- <label>$INFO[MusicPlayer.BitRate]</label> -->
                                    <!-- <font>Small20</font> -->
                                    <!-- <textcolor>Dark1</textcolor> -->
                                <!-- </control> -->
                                <!-- <control type="image"> -->
                                    <!-- <height>44</height> -->
                                    <!-- <aspectratio>keep</aspectratio> -->
                                    <!-- <texture colordiffuse="Dark1">flags/audio/white/bit.png</texture> -->
                                    <!-- <aspectratio>keep</aspectratio> -->
                                <!-- </control> -->
                            <!-- </control> -->

                            <!-- <control type="grouplist"> -->
                                <!-- <width min="20" max="100">auto</width> -->
                                <!-- <height>64</height> -->
                                <!-- <orientation>vertical</orientation> -->
                                <!-- <centertop>57%</centertop> -->
                                <!-- <itemgap>-17</itemgap> -->
                                <!-- <visible>!String.IsEmpty(MusicPlayer.Samplerate)</visible> -->
                                <!-- <control type="label"> -->
                                    <!-- <height>28</height> -->
                                    <!-- <align>center</align> -->
                                    <!-- <aligny>bottom</aligny> -->
                                    <!-- <label>$INFO[MusicPlayer.Samplerate]</label> -->
                                    <!-- <font>Small20</font> -->
                                    <!-- <textcolor>Dark1</textcolor> -->
                                <!-- </control> -->
                                <!-- <control type="image"> -->
                                    <!-- <height>44</height> -->
                                    <!-- <aspectratio>keep</aspectratio> -->
                                    <!-- <texture colordiffuse="Dark1">flags/audio/white/khz.png</texture> -->
                                    <!-- <aspectratio>keep</aspectratio> -->
                                <!-- </control> -->
                            <!-- </control> -->
                        <!-- </control> -->
                    </control>
                    <control type="group">
                        <width>452</width>
                        <control type="group">
                            <top>50</top>
                            <width>100%</width>
                            <height>8</height>
                            <include condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">Object_OSD_Progress_Bar_Info</include>
                        </control>
                        <include condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">NowPlaying_Controls</include>
                    </control>
                </control>
            </control>
        </definition>
    </include>

    <!-- DEF - HEADER FLIX INFO - LABEL "PLAYING NOW" -->

    <include name="NowPlaying_TopBottomInfo">
        <control type="group">

            <!-- HEADER FLIX INFO -->

            <control type="grouplist">
                <top>32</top>
                <width>NetflixPlotWidth</width>
                <orientation>vertical</orientation>
                <itemgap>15</itemgap>

                <!-- CLEARLOGO -->

                <control type="image" description="clearlogo">
                    <height>ClearLogoTitleMaxHeight</height>
                    <width>ClearLogoTitleMaxWidth</width>
                    <align>left</align>
                    <aspectratio scalediffuse="true" align="left">keep</aspectratio>
                    <texture background="true">$VAR[Image_Player_Video_Title_Crop_ClearLogo]</texture>
                    <visible>Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo) + $EXP[Title_Clearlogo_PlayingNow_Available]</visible>
                    <visible>Player.HasVideo</visible>
                </control>

                <!-- VIDEO - MAIN TILE -->

                <include content="NowPlaying_Header_Label">
                    <param name="label" value="$VAR[Label_NowPlaying_Header]" />
                    <param name="visible" value="Player.HasVideo + ![Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo) + $EXP[Title_Clearlogo_PlayingNow_Available]]" />
                </include>

                <include content="NowPlaying_Header_Label">
                    <param name="label" value="$VAR[Label_NowPlaying_Header]" />
                    <param name="visible" value="!Player.HasVideo" />
                </include>

                <include condition="[Skin.HasSetting(home.style.flix) + !Skin.HasSetting(show.home.flix.title.clearlogo)] | Skin.HasSetting(home.style.horizontal.clean)">Button_Intent</include>

                <!-- VIDEO - SUB TILE + PLOT -->

                <control type="group">
                    <visible>Player.HasVideo</visible>

                    <orientation>vertical</orientation>
                    <width>100%</width>
                    <itemgap>0</itemgap>

                    <usecontrolcoords>true</usecontrolcoords>
                    <include condition="[Skin.HasSetting(home.style.flix) + !Skin.HasSetting(show.home.flix.title.clearlogo)] | Skin.HasSetting(home.style.horizontal.clean)">Button_Intent</include>

                    <control type="label">
                        <include>Widgets_Sub_Title_Definition</include>
                        <label>$VAR[Label_NowPlaying_Video_Sub_Header]</label>
                    </control>

                    <control type="textbox">
                        <top>68</top>
                        <include>Widgets_Widgets_Plot_Definition_ClearLogo</include>
                        <label>$VAR[Label_NowPlaying_Plot]</label>
                        <visible>!String.IsEmpty(VideoPlayer.Plot)</visible>
                        <visible>Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo) + $EXP[Title_Clearlogo_PlayingNow_Available]</visible>
                    </control>

                    <control type="textbox">
                        <top>68</top>
                        <include>Widgets_Plot_Definition_Netflix</include>
                        <label>$VAR[Label_NowPlaying_Plot]</label>
                        <visible>!String.IsEmpty(VideoPlayer.Plot)</visible>
                        <visible>![Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo) + $EXP[Title_Clearlogo_PlayingNow_Available]]</visible>
                    </control>
                </control>

                <!-- AUDIO - SUBTILE + PLOT -->

                <control type="group">
                    <visible>Player.HasAudio</visible>
                    <visible>!Skin.HasSetting(home.extended.nowplaying.scrolling.text) + !Skin.HasSetting(home.extended.nowplaying.tracklist)</visible>

                    <orientation>vertical</orientation>
                    <width>100%</width>
                    <itemgap>0</itemgap>

                    <control type="label">
                        <include>Widgets_Sub_Title_Definition</include>
                        <label>$VAR[Label_NowPlaying_Music_Sub_Header]</label>
                    </control>

                    <control type="textbox">
                        <top>70</top>
                        <include condition="Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo)">Widgets_Widgets_Plot_Definition_ClearLogo</include>
                        <label>$VAR[Label_NowPlaying_Plot]</label>
                        <visible>!String.IsEmpty(MusicPlayer.Property(Artist_Description)) | !String.IsEmpty(MusicPlayer.Property(Album_Description))</visible>
                        <visible>Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo) + $EXP[Title_Clearlogo_PlayingNow_Available]</visible>
                    </control>
                    <control type="textbox">
                        <top>70</top>
                        <include>Widgets_Plot_Definition_Netflix</include>
                        <label>$VAR[Label_NowPlaying_Plot]</label>
                        <visible>!String.IsEmpty(MusicPlayer.Property(Artist_Description)) | !String.IsEmpty(MusicPlayer.Property(Album_Description))</visible>
                        <visible>![Skin.HasSetting(show.home.nowplaying.extended.video.title.clearlogo) + $EXP[Title_Clearlogo_PlayingNow_Available]]</visible>
                    </control>
                </control>

                <control type="label">
                    <include>Widgets_Sub_Title_Definition</include>
                    <label>$VAR[Label_NowPlaying_Music_Sub_Header]</label>
                    <visible>Skin.HasSetting(home.extended.nowplaying.tracklist) + Player.HasAudio</visible>
                </control>

                <control type="button" id="779" description="Helper">
                    <include>Def_Hidden_Button</include>
                    <onfocus>SetFocus(301)</onfocus>
                    <include content="Object_OnDirection_Action"><param name="ondirection" value="300" /></include>
                    <visible allowhiddenfocus="true">false</visible>
                </control>

                <control type="list" id="778">
                    <visible allowhiddenfocus="true">Skin.HasSetting(home.extended.nowplaying.tracklist) + Player.HasAudio</visible>
                    <height>200</height>
                    <width>100%</width>
                    <onleft condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">777</onleft>
                    <onright condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">777</onright>
                    <onleft condition="Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">301</onleft>
                    <onright condition="Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">301</onright>
                    <onup>779</onup>
                    <ondown>780</ondown>
                    <onback>300</onback>
                    <onfocus condition="$EXP[Has_Home_Menu_Auto_Slide_Out_Animation]">CancelAlarm(slide_out,true)</onfocus>
                    <orientation>vertical</orientation>

                    <itemlayout height="35">
                        <control type="label">
                            <height>100%</height>
                            <width>600</width>
                            <aligny>center</aligny>
                            <align>left</align>
                            <font>Tiny</font>
                            <textcolor>Dark2</textcolor>
                            <label>$INFO[ListItem.Label]</label>
                        </control>
                    </itemlayout>
                    <focusedlayout height="35">
                        <control type="group">
                            <visible>!Control.HasFocus(778)</visible>
                            <control type="label">
                                <height>100%</height>
                                <width>600</width>
                                <aligny>center</aligny>
                                <align>left</align>
                                <font>Tiny</font>
                                <textcolor>Dark2</textcolor>
                                <label>$INFO[ListItem.Label]</label>
                            </control>
                        </control>
                        <control type="group">
                            <visible>Control.HasFocus(778)</visible>
                            <control type="label">
                                <height>100%</height>
                                <width>600</width>
                                <aligny>center</aligny>
                                <align>left</align>
                                <font>Tiny</font>
                                <textcolor>$VAR[Color_Focus]</textcolor>
                                <label>$INFO[ListItem.Label]</label>
                            </control>
                        </control>
                    </focusedlayout>

                    <content>
                        <item id="1">
                            <label>$INFO[MusicPlayer.offset(1).TrackNumber,,. ]$INFO[MusicPlayer.offset(1).Title]</label>
                            <onclick>Playlist.PlayOffset(1)</onclick>
                            <onclick condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">SetFocus(777)</onclick>
                            <visible>MusicPlayer.offset(1).Exists</visible>
                        </item>
                        <item id="2">
                            <label>$INFO[MusicPlayer.offset(2).TrackNumber,,. ]$INFO[MusicPlayer.offset(2).Title]</label>
                            <onclick>Playlist.PlayOffset(2)</onclick>
                            <onclick condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">SetFocus(777)</onclick>
                            <visible>MusicPlayer.offset(2).Exists</visible>
                        </item>
                        <item id="3">
                            <label>$INFO[MusicPlayer.offset(3).TrackNumber,,. ]$INFO[MusicPlayer.offset(3).Title]</label>
                            <onclick>Playlist.PlayOffset(3)</onclick>
                            <onclick condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">SetFocus(777)</onclick>
                            <visible>MusicPlayer.offset(3).Exists</visible>
                        </item>
                        <item id="4">
                            <label>$INFO[MusicPlayer.offset(4).TrackNumber,,. ]$INFO[MusicPlayer.offset(4).Title]</label>
                            <onclick>Playlist.PlayOffset(4)</onclick>
                            <onclick condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">SetFocus(777)</onclick>
                            <visible>MusicPlayer.offset(4).Exists</visible>
                        </item>
                        <item id="5">
                            <label>$INFO[MusicPlayer.offset(5).TrackNumber,,. ]$INFO[MusicPlayer.offset(5).Title]</label>
                            <onclick>Playlist.PlayOffset(5)</onclick>
                            <onclick condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">SetFocus(777)</onclick>
                            <visible>MusicPlayer.offset(5).Exists</visible>
                        </item>
                    </content>
                </control>

                <control type="button" id="780" description="Helper">
                    <include>Def_Hidden_Button</include>
                    <onfocus condition="!Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">SetFocus(777)</onfocus>
                    <onfocus condition="Skin.HasSetting(hide.home.nowplaying.extended.osd.control.button)">SetFocus(300)</onfocus>
                    <include content="Object_OnDirection_Action"><param name="ondirection" value="300" /></include>
                    <visible allowhiddenfocus="true">false</visible>
                </control>
            </control>

            <!-- SCROLLING TEXT -->

            <control type="group">
                <top>86</top>
                <left>-80</left>
                <width>1920</width>
                <visible>Skin.HasSetting(home.extended.nowplaying.scrolling.text) + Player.HasAudio</visible>
                <animation effect="fade" start="100" end="50" time="0" condition="true">Conditional</animation>

                <control type="label">
                    <description>Now Playing</description>
                    <left>0</left>
                    <top>100</top>
                    <right>0</right>
                    <label>$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]</label>
                    <scroll>true</scroll>
                    <font>Music_Biggest</font>
                    <textcolor>77ffffff</textcolor>
                    <align>left</align>
                    <scrollspeed>55</scrollspeed>
                    <visible>Integer.IsGreater(MusicPlayer.Time,0) + !String.IsEqual(Player.TimeRemaining(hh:mm:ss),00:00:01)</visible>
                    <animation effect="fade" start="0" end="100" time="950" delay="500" tween="cubic" easing="inout">Visible</animation>
                    <animation effect="fade" end="0" start="100" time="350">Hidden</animation>
                </control>
                <control type="label">
                    <description>Now Playing</description>
                    <left>0</left>
                    <top>130</top>
                    <right>0</right>
                    <label>$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album, ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]</label>
                    <scroll>true</scroll>
                    <font>Music_Bigger</font>
                    <textcolor>44cccccc</textcolor>
                    <align>left</align>
                    <scrollspeed>100</scrollspeed>
                    <visible>Integer.IsGreater(MusicPlayer.Time,0) + !String.IsEqual(Player.TimeRemaining(hh:mm:ss),00:00:01)</visible>
                    <animation effect="fade" start="0" end="100" time="950" delay="500" tween="cubic" easing="inout">Visible</animation>
                    <animation effect="fade" end="0" start="100" time="350">Hidden</animation>
                </control>
                <control type="label">
                    <description>Now Playing</description>
                    <left>0</left>
                    <top>210</top>
                    <right>0</right>
                    <label>$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]</label>
                    <scroll>true</scroll>
                    <font>Music_Big</font>
                    <textcolor>99cccccc</textcolor>
                    <align>left</align>
                    <scrollspeed>80</scrollspeed>
                    <visible>!Pvr.IsPlayingRadio</visible>
                    <visible>Integer.IsGreater(MusicPlayer.Time,0) + !String.IsEqual(Player.TimeRemaining(hh:mm:ss),00:00:01)</visible>
                    <animation effect="fade" start="0" end="100" time="950" delay="500" tween="cubic" easing="inout">Visible</animation>
                    <animation effect="fade" end="0" start="100" time="350">Hidden</animation>
                </control>
            </control>

            <!-- LABEL "PLAYING NOW" -->

            <control type="grouplist">
                <usecontrolcoords>true</usecontrolcoords>
                <height>40</height>
                <top>395</top>
                <orientation>horizontal</orientation>
                <itemgap>10</itemgap>

                <include content="Widget_Bullet_Hightlight">
                    <param name="top" value="5" />
                    <param name="left" value="0" />
                    <param name="dimensions" value="30" />
                    <param name="visible" value="!$EXP[Home_Menu_Is_Focus]" />
                </include>

                <control type="label">
                    <height>38</height>
                    <font>SmallNavi</font>
                    <width>auto</width>
                    <textcolor>Dark1</textcolor>
                    <label>31174</label>
                    <animation effect="fade" start="100" end="50" condition="$EXP[Home_Menu_Is_Focus]">Conditional</animation>
                </control>
            </control>
        </control>
    </include>

    <!-- DEF - DISCART -->

    <include name="Def_NowPlaying_DiscArt">
        <param name="width" value="$PARAM[width]" default="296" />
        <param name="visible" value="$PARAM[visible]" default="true" />
        <param name="discart" value="$PARAM[discart]" default="$VAR[Image_DiscArt_Music]" />
        <param name="diffuse" value="$PARAM[diffuse]" default="diffuse/cd_full_w496_h496.png" />
        <definition>
            <control type="image">
                <aspectratio scalediffuse="false">scale</aspectratio>
                <visible>$PARAM[visible]</visible>
                <width>$PARAM[width]</width>
                <height>$PARAM[width]</height>
                <texture diffuse="$PARAM[diffuse]">$PARAM[discart]</texture>
                <animation effect="rotate" center="auto" time="6000" end="-360" condition="true" loop="true">Conditional</animation>
            </control>
        </definition>
    </include>

    <!-- DEF - AUDIO - DISCART -->

    <include name="NowPlaying_AudioDiscArt">
        <control type="group">
            <top>460</top>
            <left>158</left>
            <animation type="WindowClose" reversible="false">
                <effect type="slide" start="0,0" end="-115,0" tween="sine" easing="out" time="300" delay="0" />
                <effect type="fade" start="100" end="0" time="150" delay="0" />
            </animation>
            <animation type="WindowOpen" reversible="false" condition="$EXP[Extended_Now_Playing_Is_Visible]">
                <effect type="slide" start="-145,0" end="0,0" tween="sine" easing="out" time="600" delay="500" />
            </animation>

            <animation type="Conditional" condition="!$EXP[Home_Menu_Is_Focus] + !Control.HasFocus(2011) + !ControlGroup(777).HasFocus() + !Control.HasFocus(778) + !Control.HasFocus(779) + !Control.HasFocus(780) + !Control.HasFocus(9099)" reversible="false">
                <effect type="slide" start="0,0" end="-115,0" tween="sine" easing="out" time="300" delay="0" />
                <effect type="fade" start="100" end="0" time="150" delay="0" />
            </animation>
            <animation type="Conditional" condition="$EXP[Home_Menu_Is_Focus] | Control.HasFocus(2011) | ControlGroup(777).HasFocus() | Control.HasFocus(778) | Control.HasFocus(779) | Control.HasFocus(780) | Control.HasFocus(9099)" reversible="false">
                <effect type="slide" start="-145,0" end="0,0" tween="sine" easing="out" time="600" delay="810" />
                <effect type="fade" start="0" end="100" time="1" delay="800" />
            </animation>
            <visible>Player.HasMedia + Player.HasAudio</visible>
            <visible>!Skin.HasSetting(hide.home.nowplaying.extended.music.cd)</visible>
            <include content="Def_NowPlaying_DiscArt">
                <param name="visible" value="Skin.HasSetting(osd.music.disc.fake.cd)" />
                <param name="diffuse" value="diffuse/cd_w496_h496.png" />
                <param name="discart" value="$VAR[Image_DiscArt_Music]" />
            </include>
            <include content="Def_NowPlaying_DiscArt">
                <param name="visible" value="!Skin.HasSetting(osd.music.disc.fake.cd)" />
                <param name="discart" value="$VAR[Image_DiscArt_Music]" />
            </include>
        </control>
    </include>

    <!-- DEF - VIDEO - DISCART -->

    <include name="NowPlaying_Image_DiscArt_Video">
        <param name="visible" value="$PARAM[visible]" default="true" />
        <param name="left" value="$PARAM[left]" default="106" />
        <definition>
            <control type="group">
                <visible>Player.HasMedia + Player.HasVideo + VideoPlayer.Content(movies)</visible>
                <visible>!Skin.HasSetting(hide.home.nowplaying.extended.video.cd)</visible>
                <visible>$PARAM[visible]</visible>

                <animation type="WindowClose" reversible="false">
                    <effect type="slide" start="0,0" end="-106,0" tween="sine" easing="out" time="300" delay="0" />
                    <effect type="fade" start="100" end="0" time="150" delay="0" />
                </animation>
                <animation type="WindowOpen" reversible="false" condition="$EXP[Extended_Now_Playing_Is_Visible]">
                    <effect type="slide" start="-106,0" end="0,0" tween="sine" easing="out" time="600" delay="500" />
                </animation>
                <animation type="Conditional" condition="!$EXP[Home_Menu_Is_Focus] + !Controlgroup(777).HasFocus() + !Control.HasFocus(2011)" reversible="false">
                    <effect type="slide" start="0,0" end="-106,0" tween="sine" easing="out" time="300" delay="0" />
                    <effect type="fade" start="100" end="0" time="150" delay="0" />
                </animation>
                <animation type="Conditional" condition="$EXP[Home_Menu_Is_Focus] | Controlgroup(777).HasFocus() | Control.HasFocus(2011) | Control.HasFocus(9099)" reversible="false">
                    <effect type="slide" start="-106,0" end="0,0" tween="sine" easing="out" time="600" delay="500" />
                    <effect type="fade" start="0" end="100" time="1" delay="500" />
                </animation>

                <top>560</top>
                <left>$PARAM[left]</left>

                <include content="Def_NowPlaying_DiscArt">
                    <param name="visible" value="Skin.HasSetting(home.video.disc.fake.bluray)" />
                    <param name="diffuse" value="diffuse/cd_w496_h496.png" />
                    <param name="discart" value="$VAR[Image_DiscArt_Video]" />
                    <param name="width" value="194" />
                </include>
                <include content="Def_NowPlaying_DiscArt">
                    <param name="visible" value="!Skin.HasSetting(home.video.disc.fake.bluray)" />
                    <param name="discart" value="$VAR[Image_DiscArt_Video]" />
                    <param name="width" value="194" />
                </include>
            </control>
        </definition>
    </include>

    <!-- DEF - VIDEO - WINDOW -->

    <include name="NowPlaying_VideoWindow">
        <control type="group">
            <visible>Player.HasVideo</visible>

            <height>305</height>
            <width>553</width>
            <top>455</top>

            <include content="Def_Art_Full_Background_b12">
                <param name="colordiffuse" value="black" />
                <param name="condition_fade" value="false" />
            </include>

            <control type="videowindow">
                <top>6</top>
                <left>13</left>
                <height>293</height>
                <width>525</width>

                <animation type="Hidden" reversible="false">
                    <effect type="fade" start="100" end="0" time="150" />
                </animation>
                <animation type="WindowClose" reversible="false">
                    <effect type="zoom" center="auto" start="100" end="0" time="1" />
                </animation>
                <animation type="WindowOpen" reversible="false">
                    <effect type="zoom" center="auto" start="0" end="100" time="1" />
                </animation>

                <aspectratio aligny="center" scalediffuse="false">scale</aspectratio>
                <visible>Player.HasVideo + !ControlGroup(301).HasFocus()</visible>
            </control>
        </control>
    </include>

    <!-- DEF - POSTER -->

    <include name="NowPlaying_Poster">
        <param name="visible" value="$PARAM[visible]" default="false" />
        <param name="left" value="$PARAM[left]" default="0" />
        <definition>
            <control type="group">
                <visible>$PARAM[visible]</visible>
                <visible>Player.HasVideo + !VideoPlayer.Content(files) + !VideoPlayer.Content(livetv)</visible>

                <top>455</top>
                <left>$PARAM[left]</left>
                <height>305</height>
                <width>222</width>

                <include content="Def_Art_Full_Background_b12">
                    <param name="colordiffuse" value="Fallback" />
                    <param name="condition_fade" value="false" />
                </include>
                <control type="image">
                    <width>100%</width>
                    <height>100%</height>
                    <aspectratio scalediffuse="false">scale</aspectratio>
                    <texture diffuse="diffuse/poster_w202_h305.png" background="true" fallback="DefaultMovies.png">$VAR[Image_Player_Poster]</texture>
                </control>
                <control type="group">
                    <animation type="Conditional" condition="Control.HasFocus(25)">
                        <effect type="zoom" start="95" end="100" time="150" tween="sine" easing="inout" center="auto" />
                        <effect type="fade" start="0" end="100" time="150" tween="sine" easing="in" />
                    </animation>
                    <include content="Layout_Widget_Focus">
                        <param name="pad_focus" value="-6" />
                        <param name="pad_focus_zoom" value="-7" />
                        <param name="glow_top" value="-7" />
                        <param name="glow_left" value="-9" />
                        <param name="glow_right" value="-8" />
                        <param name="id" value="25" />
                    </include>
                </control>
            </control>
        </definition>
    </include>

    <!-- DEF - SQUARE -->

    <include name="NowPlaying_Square">
        <param name="visible" value="$PARAM[visible]" default="false" />
        <param name="left" value="$PARAM[left]" default="0" />
        <param name="fallback_image" value="$PARAM[fallback_image]" default="DefaultMovies.png" />

        <definition>
            <control type="group">
                <visible>$PARAM[visible]</visible>
                <visible>Player.HasAudio | !VideoPlayer.Content(files) | VideoPlayer.Content(livetv)</visible>

                <top>455</top>
                <left>$PARAM[left]</left>
                <height>305</height>
                <width>305</width>

                <include content="Def_Art_Full_Background_b12">
                    <param name="colordiffuse" value="Fallback" />
                    <param name="condition_fade" value="false" />
                </include>

                <control type="image">
                    <width>100%</width>
                    <height>100%</height>
                    <aspectratio scalediffuse="false">scale</aspectratio>
                    <texture diffuse="diffuse/square_w305_h305.png" background="true" fallback="$PARAM[fallback_image]">$VAR[Image_Player_Poster]</texture>
                    <visible>!VideoPlayer.Content(livetv)</visible>
                </control>

                <control type="image">
                    <width>100%</width>
                    <height>100%</height>
                    <aspectratio scalediffuse="false">keep</aspectratio>
                    <texture diffuse="diffuse/square_w305_h305.png" background="true" fallback="$PARAM[fallback_image]">$VAR[Image_Player_Poster]</texture>
                    <visible>VideoPlayer.Content(livetv)</visible>
                </control>
                <control type="group">
                    <animation type="Conditional" condition="Control.HasFocus(25)">
                        <effect type="zoom" start="95" end="100" time="150" tween="sine" easing="inout" center="auto" />
                        <effect type="fade" start="0" end="100" time="150" tween="sine" easing="in" />
                    </animation>
                    <include content="Layout_Widget_Focus">
                        <param name="pad_focus" value="-6" />
                        <param name="pad_focus_zoom" value="-7" />
                        <param name="glow_top" value="-7" />
                        <param name="glow_left" value="-9" />
                        <param name="glow_right" value="-8" />
                        <param name="id" value="25" />
                    </include>
                </control>
            </control>
        </definition>
    </include>

    <!-- DEF - OSD - UPDOWN -->

    <include name="Def_OSD_UpDown_Home_NowPlaying">
        <onup condition="Skin.HasSetting(home.extended.nowplaying.tracklist) + Integer.IsGreater(Container(778).NumItems,0) + Player.HasAudio">778</onup>
        <onup>301</onup>
        <ondown>300</ondown>
        <onback>300</onback>
        <onfocus>SetProperty(controlsvisible,1,Home)</onfocus>
        <onup>ClearProperty(controlsvisible,Home)</onup>
        <ondown>ClearProperty(controlsvisible,Home)</ondown>
        <onfocus condition="$EXP[Has_Home_Menu_Auto_Slide_Out_Animation]">CancelAlarm(slide_out,true)</onfocus>
    </include>

    <!-- DEF - OSD -->

    <include name="OSD_NowPlaying">

        <control type="button" id="25">
            <description>Skip Back</description>
            <width>48</width>
            <height>48</height>
            <label/>
            <font />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <texturefocus colordiffuse="$VAR[Color_Focus]" flipx="true">osd/info.png</texturefocus>
            <texturenofocus colordiffuse="Dark2" flipx="true">osd/info.png</texturenofocus>
            <onclick condition="!Container(999).IsUpdating + Integer.IsGreater(Container(999).NumItems,0)">SetFocus(999)</onclick>
            <onclick condition="!Container(999).IsUpdating + Integer.IsGreater(Container(999).NumItems,0)">Action(info)</onclick>
            <oninfo condition="!Container(999).IsUpdating + Integer.IsGreater(Container(999).NumItems,0)">SetFocus(999)</oninfo>
            <oninfo condition="!Container(999).IsUpdating + Integer.IsGreater(Container(999).NumItems,0)">Action(info)</oninfo>
            <onfocus condition="Skin.HasSetting(osd.open.auto.pause) + Player.Paused + Player.HasVideo + !String.IsEmpty(VideoPlayer.DBID)">PlayerControl(Play)</onfocus>
            <onfocus condition="!Player.HasMedia">SetFocus(300)</onfocus>
            <visible allowhiddenfocus="!String.IsEmpty(VideoPlayer.DBID) | !String.IsEmpty(MusicPlayer.DBID)">false</visible>
        </control>

        <include content="Object_OSD_Button">
            <param name="visible" value="true" />
            <param name="size" value="36" />
            <param name="left" value="-47" />
            <param name="icon" value="osd/next.png" />
            <param name="icon_colordiffuse" value="Dark2" />
            <param name="flipx" value="true" />
            <param name="id" value="12" />
            <param name="groupid" value="6199" />
            <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <onclick>PlayerControl(Previous)</onclick>
        </include>

        <include content="Object_OSD_Button">
            <param name="visible" value="true" />
            <param name="size" value="36" />
            <param name="left" value="-47" />
            <param name="icon" value="osd/ff.png" />
            <param name="icon_colordiffuse" value="Dark2" />
            <param name="flipx" value="true" />
            <param name="id" value="13" />
            <param name="groupid" value="6299" />
            <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <onclick>PlayerControl(Rewind)</onclick>
            <enable>Player.SeekEnabled</enable>
            <animation effect="fade" start="100" end="33" time="100" condition="!Player.SeekEnabled">Conditional</animation>
        </include>

        <include content="Object_OSD_Button">
            <param name="visible" value="true" />
            <param name="size" value="36" />
            <param name="left" value="-47" />
            <param name="icon" value="$VAR[Image_OSD_PlayPause]" />
            <param name="icon_colordiffuse" value="Dark2" />
            <param name="id" value="14" />
            <param name="groupid" value="6399" />
            <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <onclick>PlayerControl(Play)</onclick>
            <enable>Player.PauseEnabled</enable>
            <animation effect="fade" start="100" end="33" time="100" condition="!Player.PauseEnabled">Conditional</animation>
        </include>

        <include content="Object_OSD_Button">
            <param name="visible" value="true" />
            <param name="size" value="36" />
            <param name="left" value="-47" />
            <param name="icon" value="osd/stop.png" />
            <param name="icon_colordiffuse" value="Dark2" />
            <param name="id" value="15" />
            <param name="groupid" value="6499" />
            <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <onclick>PlayerControl(Stop)</onclick>
        </include>

        <include content="Object_OSD_Button">
            <param name="visible" value="true" />
            <param name="size" value="36" />
            <param name="left" value="-47" />
            <param name="icon" value="osd/ff.png" />
            <param name="icon_colordiffuse" value="Dark2" />
            <param name="id" value="16" />
            <param name="groupid" value="6599" />
            <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <onclick>PlayerControl(Forward)</onclick>
            <enable>Player.SeekEnabled</enable>
            <animation effect="fade" start="100" end="33" time="100" condition="!Player.SeekEnabled">Conditional</animation>
        </include>

        <include content="Object_OSD_Button">
            <param name="visible" value="true" />
            <param name="size" value="36" />
            <param name="left" value="-47" />
            <param name="icon" value="osd/next.png" />
            <param name="icon_colordiffuse" value="Dark2" />
            <param name="id" value="17" />
            <param name="groupid" value="6699" />
            <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <onclick>PlayerControl(Next)</onclick>
        </include>

        <include content="Object_OSD_Button">
            <param name="visible" value="true" />
            <param name="size" value="36" />
            <param name="left" value="-47" />
            <param name="icon" value="osd/fullscreen.png" />
            <param name="icon_colordiffuse" value="Dark2" />
            <param name="flipx" value="false" />
            <param name="id" value="23" />
            <param name="groupid" value="6799" />
            <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <onclick condition="Player.HasVideo">ActivateWindow(fullscreenvideo)</onclick>
            <onclick condition="Player.HasAudio">ActivateWindow(visualisation)</onclick>
        </include>

        <include content="Object_OSD_Button">
            <param name="visible" value="true" />
            <param name="size" value="36" />
            <param name="left" value="-47" />
            <param name="icon" value="osd/playlist2.png" />
            <param name="icon_colordiffuse" value="Dark2" />
            <param name="flipx" value="false" />
            <param name="id" value="18" />
            <param name="groupid" value="6899" />
            <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
            <include>Def_OSD_UpDown_Home_NowPlaying</include>
            <onclick condition="Player.HasAudio">ActivateWindow(musicplaylist)</onclick>
            <onclick condition="Player.HasVideo">ActivateWindow(videoplaylist)</onclick>
            <enable>!VideoPlayer.Content(livetv)</enable>
            <animation effect="fade" start="100" end="33" time="100" condition="VideoPlayer.Content(livetv)">Conditional</animation>
        </include>

        <!-- <include content="Object_OSD_Button"> -->
            <!-- <param name="visible" value="!String.IsEmpty(MusicPlayer.DBID) + Skin.HasSetting(show.flags.music.rating.user)" /> -->
            <!-- <param name="size" value="36" /> -->
            <!-- <param name="left" value="-47" /> -->
            <!-- <param name="icon" value="$VAR[Image_OSD_UserRating]" /> -->
            <!-- <param name="flipx" value="false" /> -->
            <!-- <param name="id" value="22" /> -->
            <!-- <param name="groupid" value="6999" /> -->
            <!-- <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" /> -->
            <!-- <include>OnFocusOnClick</include> -->
            <!-- <include>ClearOnFocusOnClick</include> -->
            <!-- <include>Def_OSD_UpDown_Home_NowPlaying</include> -->
            <!-- <onclick>SetRating</onclick> -->
        <!-- </include> -->
    </include>

    <!-- FURNITURE - HOME - NOWPLAYING -->

    <include name="Furniture_Home_NowPlaying">
        <control type="group">

            <animation effect="slide" start="0" end="0,-34" time="150" condition="Skin.HasSetting(home.style.horizontal.clean) + Skin.HasSetting(hide.home.menu) + !Skin.HasSetting(hide.home.menu.with.nowplaying.extended) + !$EXP[Home_Menu_Is_Focus] + !Control.HasFocus(9099)">Conditional</animation>

            <animation effect="slide" start="0" end="0,129" time="150" condition="Skin.HasSetting(hide.home.menu.with.nowplaying.extended) + !$EXP[Home_Menu_Is_Focus] + !Control.HasFocus(9099)">Conditional</animation>

            <animation effect="fade" start="100" end="0" tween="sine" reversible="false" easing="out" time="350" condition="!$EXP[Extended_Now_Playing_Is_Visible]">Conditional</animation>

            <animation effect="fade" start="0" end="100" tween="sine" reversible="false" easing="in" delay="350" time="450" condition="$EXP[Extended_Now_Playing_Is_Visible]">Conditional</animation>
            <height>770</height>
            <bottom>200</bottom>
            <width>1270</width>
            <include content="Def_Left" condition="$EXP[Home_Is_Vertical]"><param name="left" value="446" /></include>
            <left>View_SidePad</left>

            <!-- BASICS -->

            <include>NowPlaying_TopBottomInfo</include>
            <include>NowPlaying_AudioDiscArt</include>
            <include condition="Skin.HasSetting(show.home.nowplaying.extended.video.windows)">NowPlaying_VideoWindow</include>
            <include>NowPlaying_ClearArt</include>

            <!-- DISCART -->

            <include content="NowPlaying_Image_DiscArt_Video">
                <param name="visible" value="!Skin.HasSetting(show.home.nowplaying.extended.video.windows)" />
            </include>
            <include content="NowPlaying_Image_DiscArt_Video">
                <param name="left" value="679" />
                <param name="visible" value="Skin.HasSetting(show.home.nowplaying.extended.video.windows)" />
            </include>

            <!-- POSTER / SQUARE -->

            <include content="NowPlaying_Poster">
                <param name="visible" value="!Skin.HasSetting(show.home.nowplaying.extended.video.windows)" />
            </include>
            <include content="NowPlaying_Poster">
                <param name="left" value="573" />
                <param name="visible" value="Skin.HasSetting(show.home.nowplaying.extended.video.windows)" />
            </include>
            <include content="NowPlaying_Square">
                <param name="visible" value="Player.HasAudio" />
                <param name="fallback_image" value="DefaultAudio.png" />
            </include>
            <include content="NowPlaying_Square">
                <param name="left" value="573" />
                <param name="visible" value="$EXP[IsPVRVideo] + Skin.HasSetting(show.home.nowplaying.extended.video.windows)" />
            </include>
            <include content="NowPlaying_Square">
                <param name="left" value="0" />
                <param name="visible" value="$EXP[IsPVRAudio] + Skin.HasSetting(show.home.nowplaying.extended.video.windows)" />
            </include>

            <!-- INFO RIGHT -->

            <include content="NowPlaying_InfoRight">
                <param name="left" value="561" />
                <param name="visible" value="$EXP[IsVideo] + Skin.HasSetting(show.home.nowplaying.extended.video.windows) + Skin.HasSetting(hide.home.nowplaying.extended.video.cd)" />
            </include>
            <include content="NowPlaying_InfoRight">
                <param name="left" value="641" />
                <param name="visible" value="$EXP[IsVideo] + Skin.HasSetting(show.home.nowplaying.extended.video.windows) + !Skin.HasSetting(hide.home.nowplaying.extended.video.cd)" />
            </include>
            <include content="NowPlaying_InfoRight">
                <param name="left" value="0" />
                <param name="visible" value="[$EXP[IsVideo] + !Skin.HasSetting(show.home.nowplaying.extended.video.windows) + Skin.HasSetting(hide.home.nowplaying.extended.video.cd)] | [$EXP[IsAudio] + Skin.HasSetting(hide.home.nowplaying.extended.music.cd)] | [$EXP[IsPVRAudio] + Skin.HasSetting(hide.home.nowplaying.extended.video.cd)]" />
            </include>
            <include content="NowPlaying_InfoRight">
                <param name="left" value="661" />
                <param name="visible" value="$EXP[IsPVRVideo] + Skin.HasSetting(show.home.nowplaying.extended.video.windows) + Skin.HasSetting(hide.home.nowplaying.extended.video.cd)" />
            </include>
            <include content="NowPlaying_InfoRight">
                <param name="left" value="140" />
                <param name="visible" value="[$EXP[IsPVRAudio] + !Skin.HasSetting(hide.home.nowplaying.extended.video.cd)] | [$EXP[IsAudio] + !Skin.HasSetting(hide.home.nowplaying.extended.music.cd)]" />
            </include>
            <include content="NowPlaying_InfoRight">
                <param name="left" value="100" />
                <param name="visible" value="$EXP[IsPVRVideo] + !Skin.HasSetting(show.home.nowplaying.extended.video.windows)" />
            </include>

            <control type="list" id="999">
                <include>Def_Hidden_ListControl</include>
                <onfocus>SetProperty(shownowplayinginfo,1,Home)</onfocus>
                <content limit="1">$VAR[Def_Dialog_Info_Currently_Playing_Item_Nowplaing]</content>
            </control>

            <control type="button" id="4000" description="Helper">
                <include>Def_Hidden_Button</include>
                <include content="Object_OnDirection_Action"><param name="ondirection" value="300" /></include>
                <onfocus>SetFocus(25)</onfocus>
            </control>
        </control>
    </include>

</includes>

<?xml version="1.0" encoding="UTF-8"?>
<window id="2006">

    <onload condition="Skin.HasSetting(osd.always.show.music.osd)">ActivateWindow(musicosd)</onload>

    <onunload>ClearProperty(SetUserRating,Home)</onunload>
    <onunload condition="!Player.HasAudio + !String.IsEmpty(Window(Home).Property(Encoded.MusicPlayer.Album))">alarmclock(ResetValue,ClearProperty(Encoded.MusicPlayer.Album),Home),00:00,silent)</onunload>

    <controls>

        <!-- BACKGROUND -->

        <control type="visualisation" id="2">
            <visible>!String.IsEmpty(Skin.String(fanart.fallback.music)) | Skin.HasSetting(OSDVisualisation.ShowFanart) | [!Skin.HasSetting(enable.osd.music.visualisation.fanart) + [!System.AddonIsEnabled(script.artistslideshow) | Skin.HasSetting(disable.artist.slideshow)]]</visible>
            <description>visualisation</description>
            <include>Def_Dimensions_Fullscreen</include>
        </control>

        <!-- FANART -->

        <control type="group">
            <animation effect="fade" end="0" start="100" time="300" tween="sine" easing="out">WindowClose</animation>
            <animation effect="fade" start="0" end="100" time="450" delay="0" tween="sine" easing="in">WindowOpen</animation>
            <control type="multiimage">
                <aspectratio>scale</aspectratio>
                <include>Def_Dimensions_Fullscreen</include>
                <include>Background_Fanart_Fade_time</include>
                <imagepath background="true">$VAR[Image_Background_Music_Visualisation]</imagepath>
                <animation effect="fade" start="100" end="75" time="0" condition="Skin.HasSetting(OSDVisualisation.ShowFanart)">Conditional</animation>
                <animation effect="fade" start="100" end="0" time="500" condition="String.Contains(Window(Visualisation).Property(ArtistSlideshow.Image),black-hd.png)">Conditional</animation>
                <include>Animation_Animate_Slideshow</include>
            </control>
        </control>

         <!-- ARTIST BIOGRAPHY -->

         <control type="group">
            <visible>!String.IsEmpty(Window(Home).Property(OSDArtistDetails)) | Skin.HasSetting(show.osd.artist.infos)</visible>
            <include>Animation_FadeIn</include>
            <include>Animation_FadeOut</include>
            <control type="image" description="Background">
               <include>Def_Dimensions_Fullscreen</include>
               <texture colordiffuse="black">background/bg.jpg</texture>
               <animation effect="fade" start="100" end="60" condition="true">Conditional</animation>
            </control>
        </control>

        <!-- SCROLLING TEXT -->

        <control type="group">
            <top>350</top>
            <visible>!Skin.HasSetting(hide.music.visualisation.scrolling.text)</visible>
            <visible>!Window.IsVisible(script-cu-lrclyrics-main.xml)</visible>
            <visible>String.IsEmpty(Window(Home).Property(OSDArtistDetails)) + !Skin.HasSetting(show.osd.artist.infos)</visible>
            <animation effect="fade" start="0" end="100" time="950" delay="500" tween="cubic" easing="inout">Visible</animation>
            <animation effect="fade" start="0" end="100" time="950" tween="cubic" easing="inout">WindowOpen</animation>
            <animation effect="fade" end="0" start="100" time="350">Hidden</animation>
            <animation effect="fade" end="0" start="100" time="150">WindowClose</animation>
            <control type="label">
                <description>Now Playing</description>
                <left>0</left>
                <top>100</top>
                <right>0</right>
                <label>$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]$INFO[MusicPlayer.Title,  ,]</label>
                <scroll>true</scroll>
                <font>Music_Biggest</font>
                <textcolor>77ffffff</textcolor>
                <align>left</align>
                <scrollspeed>55</scrollspeed>
                <visible>Integer.IsGreater(MusicPlayer.Time,0) + !String.IsEqual(Player.TimeRemaining(hh:mm:ss),00:00:01)</visible>
                <animation effect="fade" start="0" end="100" time="950" delay="500" tween="cubic" easing="inout">Visible</animation>
                <animation effect="fade" end="0" start="100" time="350">Hidden</animation>
            </control>
            <control type="label">
                <description>Now Playing</description>
                <left>0</left>
                <top>130</top>
                <right>0</right>
                <label>$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album, ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]$INFO[MusicPlayer.Album,  ,]</label>
                <scroll>true</scroll>
                <font>Music_Bigger</font>
                <textcolor>44cccccc</textcolor>
                <align>left</align>
                <scrollspeed>100</scrollspeed>
                <visible>Integer.IsGreater(MusicPlayer.Time,0) + !String.IsEqual(Player.TimeRemaining(hh:mm:ss),00:00:01)</visible>
                <animation effect="fade" start="0" end="100" time="950" delay="500" tween="cubic" easing="inout">Visible</animation>
                <animation effect="fade" end="0" start="100" time="350">Hidden</animation>
            </control>
            <control type="label">
                <description>Now Playing</description>
                <left>0</left>
                <top>210</top>
                <right>0</right>
                <label>$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]$INFO[MusicPlayer.Artist,  ,]</label>
                <scroll>true</scroll>
                <font>Music_Big</font>
                <textcolor>99cccccc</textcolor>
                <align>left</align>
                <scrollspeed>80</scrollspeed>
                <visible>!Pvr.IsPlayingRadio</visible>
                <visible>Integer.IsGreater(MusicPlayer.Time,0) + !String.IsEqual(Player.TimeRemaining(hh:mm:ss),00:00:01)</visible>
                <animation effect="fade" start="0" end="100" time="950" delay="500" tween="cubic" easing="inout">Visible</animation>
                <animation effect="fade" end="0" start="100" time="350">Hidden</animation>
            </control>
        </control>
        <control type="image">
            <height>100%</height>
            <width>100%</width>
            <texture>common/white.png</texture>
            <colordiffuse>Background</colordiffuse>
            <animation effect="fade" start="100" end="80" condition="true">Conditional</animation>
            <visible>Window.IsVisible(script-cu-lrclyrics-main.xml)</visible>
            <visible>!Skin.HasSetting(disable.osd.more.contrast)</visible>
            <animation effect="fade" start="0" end="100" time="250">Visible</animation>
            <animation effect="fade" end="0" start="100" time="250">Hidden</animation>
        </control>
        <control type="image">
            <height>100%</height>
            <width>100%</width>
            <texture>common/white.png</texture>
            <colordiffuse>Background</colordiffuse>
            <animation effect="fade" start="100" end="90" condition="true">Conditional</animation>
            <visible>Window.IsVisible(script-cu-lrclyrics-main.xml)</visible>
            <visible>Skin.HasSetting(disable.osd.more.contrast)</visible>
            <animation effect="fade" start="0" end="100" time="250">Visible</animation>
            <animation effect="fade" end="0" start="100" time="250">Hidden</animation>
        </control>
    </controls>
</window>
